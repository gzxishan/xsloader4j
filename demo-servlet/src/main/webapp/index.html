<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">
		<title>使用例子</title>
		<style type="text/css">
			a {
				margin: 1em;
			}
		</style>
	</head>

	<body style="text-align:center;">
		<h2>语言测试</h2>
		<a href="lang/index.html">ES测试</a>
		<h2>基础例子</h2>
		<a href="test1/index.html">例子test1</a>
		<a href="test1/index.htmv">例子test1-htmv</a>
		<a href="test2-no-vue/">例子test2-no-vue</a>
		<h2>第三方UI使用例子</h2>
		<a href="test-mand-mobile/">mand-mobile</a>
		<a href="test-vant/">vant</a>
		<a href="test-cube-ui/">cube-ui</a>

		<script src="./babel.js"></script>
		<script type="text/javascript">
			var input =
				'import Vue from "vue";import {a1,b1,default as c1} from "AB";import("abc");\nconsole.log(a1,b1,c1);\n;let xxx=1;\n const getMessage = () => "Hello World";\nconst a=()=>\nimport( "xxx" )\n;';
			var output = Babel.transform(input, {
				// targets: {
				// 	browsers: ["chrome 85"]
				// },
				presets: [
					//"es2015",
					['env', {
						"targets": {
							"browsers": ["ie 11"]
						}
					}]
				],
				plugins: [
					["transform-modules-commonjs"],
					{
						visitor: {
							ImportDeclaration: function(path) {
								let id=path.scope.generateUid("mod");
								console.log("id:",id)
								console.log(path);
								console.log(path.getSource());
							},
							"CallExpression": function(path) {
								if (path.node.callee.type == "Import") {
									var source = path.getSource();
									source = "__ImporT__" + source.substring(6);
									path.replaceWithSourceString(source);
								}
							}
						}
					},
				],
			}).code;
			console.log(output);
		</script>
		<!-- Your custom script here -->
		<!-- <script type="text/babel" data-type="module" data-presets="es2015">
			import Vue from "vue";
  const getMessage = () => "Hello World";
  document.getElementById("output").innerHTML = getMessage();

</script> -->
	</body>

</html>
