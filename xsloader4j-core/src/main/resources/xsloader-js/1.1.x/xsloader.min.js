/*!
 * xsloader.min.js v1.1.37
 * home:https://github.com/gzxishan/xsloader#readme
 * (c) 2018-2020 gzxishan
 * Released under the Apache-2.0 License.
 * build time:Wed Dec 30 2020 11:35:40 GMT+0800 (GMT+08:00)
 */
(function () {
  'use strict';

  function _typeof(obj) {
    "@babel/helpers - typeof";

    if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
      _typeof = function (obj) {
        return typeof obj;
      };
    } else {
      _typeof = function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
      };
    }

    return _typeof(obj);
  }

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      if (enumerableOnly) symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
      keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};

      if (i % 2) {
        ownKeys(Object(source), true).forEach(function (key) {
          _defineProperty(target, key, source[key]);
        });
      } else if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
      } else {
        ownKeys(Object(source)).forEach(function (key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
    }

    return target;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _getPrototypeOf(o) {
    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
      return o.__proto__ || Object.getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };

    return _setPrototypeOf(o, p);
  }

  function _isNativeReflectConstruct() {
    if (typeof Reflect === "undefined" || !Reflect.construct) return false;
    if (Reflect.construct.sham) return false;
    if (typeof Proxy === "function") return true;

    try {
      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));
      return true;
    } catch (e) {
      return false;
    }
  }

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (typeof call === "object" || typeof call === "function")) {
      return call;
    }

    return _assertThisInitialized(self);
  }

  function _createSuper(Derived) {
    var hasNativeReflectConstruct = _isNativeReflectConstruct();

    return function _createSuperInternal() {
      var Super = _getPrototypeOf(Derived),
          result;

      if (hasNativeReflectConstruct) {
        var NewTarget = _getPrototypeOf(this).constructor;

        result = Reflect.construct(Super, arguments, NewTarget);
      } else {
        result = Super.apply(this, arguments);
      }

      return _possibleConstructorReturn(this, result);
    };
  }

  var id = 0;

  function _classPrivateFieldLooseKey(name) {
    return "__private_" + id++ + "_" + name;
  }

  function _classPrivateFieldLooseBase(receiver, privateKey) {
    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {
      throw new TypeError("attempted to use private field on non-instance");
    }

    return receiver;
  }

  var G;if(("undefined"==typeof window?"undefined":_typeof(window))!==void 0){G=window;}else if(("undefined"==typeof self?"undefined":_typeof(self))!==void 0){G=self;}else if(("undefined"==typeof global?"undefined":_typeof(global))!==void 0){G=global;}else {throw new Error("not found global var!")}var global$1 = G;

  var _loaderFun,xsloader=global$1.xsloader=function(){return _loaderFun.apply(this,arguments)};var loader = {loaderFun:function loaderFun(a){_loaderFun=a;}};

  var ABSOLUTE_PROTOCOL_REG=/^(([a-zA-Z0-9_]*:\/\/)|(\/)|(\/\/))/,ABSOLUTE_PROTOCOL_REG2=/^([a-zA-Z0-9_]+:)\/\/([^/\s]+)/,defaultJsExts=[".js",".js+",".js++",".es","es6",".jsx",".vue",".*",".htmv_vue"];var L=global$1.xsloader;function isJsFile(a){if(!L.isString(a)||-1==a.indexOf(".")){return false}var b=a.indexOf("!");if(0<b){a=a.substring(0,b);}var c=a.indexOf("?");if(0<c){a=a.substring(0,c);}c=a.indexOf("#");if(0<c){a=a.substring(0,c);}for(var d=L.config(),e=d&&d.jsExts||defaultJsExts,f=0;f<e.length;f++){if(L.endsWith(a,e[f])){return {ext:e[f],path:a}}}return false}function dealPathMayAbsolute(a,b){b=b||a;var c=ABSOLUTE_PROTOCOL_REG.exec(a),d,e;if(c){var h=c[1];e=true;c=ABSOLUTE_PROTOCOL_REG2.exec(b);var f=c&&c[1]||location.protocol,g=c&&c[2]||location.host;if("//"==h){d=f+"//"+a;}else if("/"==h){d=f+"//"+g+a;}else {d=a;}}else {e=false;d=a;}return {absolute:e,path:d}}function getPathWithRelative(a,b,c){var d="",e=a.lastIndexOf("?");if(0<=e){a=a.substring(0,e);}else {e=a.lastIndexOf("#");if(0<=e){a=a.substring(0,e);}}e=b.lastIndexOf("?");if(0<=e){d=b.substring(e);b=b.substring(0,e);}else {e=b.lastIndexOf("#");if(0<=e){d=b.substring(e);b=b.substring(0,e);}}var f=dealPathMayAbsolute(b,a);if(f.absolute){return f.path+d}if(c===void 0){var q=a.lastIndexOf("/");if(q==a.length-1){c=true;}else {if(-1==q){q=0;}else {q++;}c=-1==a.indexOf(".",q);}}if(L.endsWith(a,"/")){a=a.substring(0,a.length-1);}var g=false;if("."==b||L.endsWith(b,"/")){b=b.substring(0,b.length-1);g=true;}else if("."==b||".."==b||L.endsWith("/.")||L.endsWith("/..")){g=true;}var h="",j=-1,k=dealPathMayAbsolute(a);if(k.absolute){a=k.path;var r=a.indexOf("//");j=a.indexOf("/",r+2);if(-1==j){j=a.length;}}h=a.substring(0,j+1);a=a.substring(j+1);var l=a.split("/");if(!c&&0<l.length){l.pop();}for(var m=b.split("/"),n=0,o;n<m.length;n++){o=m[n];if(".."==o){if(0==l.length){throw new Error("no more upper path:path="+arguments[0]+",relative="+arguments[1])}l.pop();}else if("."!=o){l.push(o);}}var p=h+l.join("/");if(g&&!L.endsWith(p,"/")){p+="/";}p=L.appendArgs2Url(p,d);return p}function getNodeAbsolutePath(a){var b=a.src||a.getAttribute("src");return getPathWithRelative(location.href,b)}function removeQueryHash(a){if(a){var b=a.indexOf("?");if(0<=b){a=a.substring(0,b);}b=a.indexOf("#");if(0<=b){a=a.substring(0,b);}}return a}var REPLACE_STRING_PROPERTIES_EXP=/\$\{([^\{]+)\}/,ALL_TYPE_PROPERTIES_EXP=/^\$\[([^\[\]]+)\]$/;function propertiesDeal(a,b){if(!b){return a}function c(a,b,c){var d,e=a;d=ALL_TYPE_PROPERTIES_EXP.exec(e);if(d){var f=d[1],g=L.getObjectAttr(b,f);if(g===void 0){return e}else {return g}}var h="";while(true){d=REPLACE_STRING_PROPERTIES_EXP.exec(e);if(!d){h+=e;break}else {var i=d[1];if(c!==void 0&&c.propertyKey==i){throw new Error("replace property error:propertyKey="+i)}else if(c){c.has=true;}h+=e.substring(0,d.index);h+=L.getObjectAttr(b,i);e=e.substring(d.index+d[0].length);}}return h}function d(a,e,f){if(!a){return a}if(L.isFunction(a)){return a}else if(L.isArray(a)){for(var g=0;g<a.length;g++){a[g]=d(a[g],e,f);}}else if(L.isString(a)){a=c(a,b,e);}else if(L.isObject(a)){if(e){e.has=false;}var h={};for(var i in a){if(e){e.propertyKey=i;}a[i]=d(a[i],e,f);if(f){var j=c(i,b,e);if(j!==i){h[i]=j;}}}for(var k in h){var l=a[k];delete a[k];a[h[k]]=l;}}return a}if(!b.__dealt__){var e={has:false};for(var f in b){var g=b[f];if(L.isFunction(g)){b[f]=g.call(b);}}do{d(b,e);}while(e.has);b.__dealt__=true;}return d(a,void 0,true)}function replaceModulePrefix(a,b){if(!b||0==b.length){return}for(var l=0,i;l<b.length;l++){i=b[l];if("string"==typeof i){var c=i.indexOf("!"),d=0<c?i.substring(c):"";i=0<c?i.substring(0,c):i;c=i.indexOf("?");var m=0<c?i.substring(c):"";i=0<c?i.substring(0,c):i;var n=isJsFile(i);if(a.autoExt&&/\/[^\/\.]+$/.test(i)){b[l]=i+a.autoExtSuffix+m+d;}else if(!n&&!/\.[^\/\s]*$/.test(i)&&(L.startsWith(i,".")||dealPathMayAbsolute(i).absolute)){b[l]=i+".js"+m+d;}}}if(a.modulePrefixCount){for(var o in a.modulePrefix){for(var e=a.modulePrefix[o].replace,f=o.length,g=0,h;g<b.length;g++){h=b[g];if("string"==typeof h){var j=h.indexOf("!"),k=null;if(0<=j){k=h.substring(0,j+1);h=h.substring(j+1);}if(L.startsWith(h,o)){var p=e+h.substring(f);b[g]=k?k+p:p;}}}}}}function getScriptBySubname(a){var b=document.getElementsByTagName("script");if(a){for(var e=0;e<b.length;e++){var c=b[e],d=c.src;d=d.substring(d.lastIndexOf("/"));if(0<=d.indexOf(a)){return c}}}else {return b}}var thePageUrl=function(){var a=location.href;a=removeQueryHash(a);return a}();var urls = {getPathWithRelative:getPathWithRelative,getNodeAbsolutePath:getNodeAbsolutePath,dealPathMayAbsolute:dealPathMayAbsolute,removeQueryHash:removeQueryHash,propertiesDeal:propertiesDeal,replaceModulePrefix:replaceModulePrefix,isJsFile:isJsFile,getScriptBySubname:getScriptBySubname,thePageUrl:thePageUrl};

  var L$1=global$1.xsloader,COMMENT_REGEXP=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,REPLACE_REQUIRE_GET_REGEXP=/(^|[\s\(\),;.\?:]+)require\s*\.\s*get\s*\(\s*["']([^'"\r\n]+)["']\s*\)/g,REPLACE_REQUIRE_REGEXP=/(^|[\s\(\),;.\?:]+)require\s*\(\s*["']([^'"\r\n]+)["']\s*\)/g,NOT_REQUIRE_REGEXP=/\.\s*$/;function InVar(a){this.get=function(){return a};this.set=function(b){var c=a;a=b;return c};}L$1.InVar=global$1.InVar=InVar;function GraphPath(){var b={},c={},d={};this.addEdge=function(a,e){d[a+"|"+e]=true;if(!b[a]){b[a]=[];}if(!c[a]){c[a]=true;}if(!c[e]){c[e]=true;}b[a].push({begin:a,end:e});};this.hasDep=function(a,b){return d[a+"|"+b]};this.tryAddEdge=function(a,c){this.addEdge(a,c);var d=this.hasLoop();if(0<d.length){b[a].pop();}return d};this.hasLoop=function(){var b={},d={};for(var g in c){b[g]=false;d[g]=false;}var e=false,f=[];for(var h in c){f=[];if(a(h,b,d,f)){e=true;break}}return e?f:[]};function a(c,d,e,f){if(!d[c]){d[c]=true;e[c]=true;f.push(c);if(b[c]){for(var g=b[c],h=0,j;h<g.length;h++){j=g[h];if(!d[j.end]&&a(j.end,d,e,f)){return true}else if(e[j.end]){f.push(j.end);return true}}}}e[c]=false;return false}}function strValue2Arr(a){if(!a||L$1.isArray(a)){return}for(var b in a){if(L$1.isString(a[b])){a[b]=[a[b]];}}}function each(a,b,c,d){if(a){if(c){var e=function(c){if(d?0>c:c>=a.length){return}b(a[c],c,a,function handle(a){if(a){return}e(d?c-1:c+1);});};e(d?a.length-1:0);}else {if(d){for(var f=a.length-1;0<=f;f--){if(false===b(a[f],f,a)){break}}}else {for(var g=0;g<a.length;g++){if(false===b(a[g],g,a)){break}}}}}}function __commentReplace(a,b){return b||""}function __appendInnerDeps(a,b,c,d,e){b.replace(c,function(){var b=arguments[d];if((!e||!NOT_REQUIRE_REGEXP.test(arguments[e]))&&-1==L$1.indexInArray(a,b)){a.push(b);}});}function appendInnerDeps(a,b){if(L$1.isFunction(b)){var c=L$1.config(),d=!c?"disable":c.props.innerDepType;if("disable"!=d){var e=b.toString().replace(COMMENT_REGEXP,__commentReplace);if("auto"==d){if(0<=e.indexOf("__webpack_require__")){d="disable";}}if("auto"==d){__appendInnerDeps(a,e,REPLACE_REQUIRE_REGEXP,2,1);__appendInnerDeps(a,e,REPLACE_REQUIRE_GET_REGEXP,2,1);}else if("require"==d){__appendInnerDeps(a,e,REPLACE_REQUIRE_REGEXP,2,1);}else if("require.get"==d){__appendInnerDeps(a,e,REPLACE_REQUIRE_GET_REGEXP,2,1);}}}}var idCount=2019;function getAndIncIdCount(){return idCount++}var PluginError=function a(b,c,d){_classCallCheck(this,a);this.err=b;this.invoker=c;this.extra=d;};function unwrapError(a){if(a){var b=0;while(a instanceof PluginError&&100>b++){a=a.err;}}return a}var isXsLoaderEnd=false,IE_VERSION=function(){var a=navigator.userAgent,b=-1<a.indexOf("compatible")&&-1<a.indexOf("MSIE"),c=-1<a.indexOf("Edge")&&!b,d=-1<a.indexOf("Trident")&&-1<a.indexOf("rv:11.0");if(b){var e=/MSIE[\s]+([0-9.]+);/.exec(a),f=parseInt(e&&e[1]||-1);return -1==f?-1:f}else if(c){return "edge"}else if(d){return 11}else {return -1}}();function isEmptyObject(a){if(null===a||a===void 0){return true}else if(!L$1.isObject(a)){throw new Error("expected object:"+a)}else {for(var b in a){return false}return true}}var base = {graphPath:new GraphPath,strValue2Arr:strValue2Arr,each:each,appendInnerDeps:appendInnerDeps,getAndIncIdCount:getAndIncIdCount,PluginError:PluginError,unwrapError:unwrapError,loaderEnd:function loaderEnd(){isXsLoaderEnd=true;},isLoaderEnd:function isLoaderEnd(){return isXsLoaderEnd},IE_VERSION:IE_VERSION,isEmptyObject:isEmptyObject};

  function whichTransitionEvent(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c){if(b.style[a]!==void 0){return c[a]}}}var transitionEvent=whichTransitionEvent(),ToProgress=function(a){this.progress=0;this.options={id:"xsloader-top-progress-bar",color:"#F44336",bgColor:void 0,height:2,duration:.2};if(a&&"object"===_typeof(a)){for(var b in a){this.options[b]=a[b];}}this.options.opacityDuration=0;this.progressBar=document.createElement("div");this.container=document.createElement("div");this.container.setCSS=function(a){for(var b in a){this.style[b]=a[b];}};this.container.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a){this.style[b]=a[b];}};this.container.setCSS({position:"fixed",padding:"0",margin:"0",top:"0",left:"0",right:"0",height:this.options.height+1+"px",width:"100%",opacity:"1","z-index":"9999999999","background-color":this.options.bgColor});this.progressBar.setCSS({position:"absolute",padding:"0",margin:"0",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height+"px",width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});this.container.appendChild(this.progressBar);document.body.appendChild(this.container);};ToProgress.prototype.setColor=function(a){this.progressBar.style.backgroundColor=a;};ToProgress.prototype._isAuto=false;ToProgress.prototype._timer=null;ToProgress.prototype.stopAuto=function(){this._isAuto=false;if(this._timer){clearInterval(this._timer);this._timer=null;}};ToProgress.prototype.autoIncrement=function(){var a=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:100;this.stopAuto();this._isAuto=true;var c=100>b?100:b,d=.05,e=1-d/2;this._timer=setInterval(function(){e+=d;a.setProgress(100-100/e);},c);};ToProgress.prototype.toError=function(a){this.setProgress(60>this.progress?60:this.progress);this.setColor(a);this.stopAuto();};ToProgress.prototype.transit=function(){this.progressBar.style.width=this.progress+"%";};ToProgress.prototype.getProgress=function(){return this.progress};ToProgress.prototype.setProgress=function(a,b){this.show();if(100<a){this.progress=100;}else if(0>a){this.progress=0;}else {this.progress=a;}this.transit();b&&b();};ToProgress.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b);};ToProgress.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b);};ToProgress.prototype.finish=function(a){var b=this;this.setProgress(100,a);setTimeout(function(){b.hide();b.container.parentNode.removeChild(b.container);},500);};ToProgress.prototype.reset=function(a){this.progress=0;this.transit();a&&a();};ToProgress.prototype.hide=function(){this.progressBar.style.opacity="0";this.container.style.display="none";};ToProgress.prototype.show=function(){this.progressBar.style.opacity="1";this.container.style.display="block";};var loading = {ToProgress:ToProgress};

  function Base64(){this.encode=function(b){var c="",d,e,f,g,h,j,k,l=0;b=a(b);while(l<b.length){d=b.charCodeAt(l++);e=b.charCodeAt(l++);f=b.charCodeAt(l++);g=d>>2;h=(3&d)<<4|e>>4;j=(15&e)<<2|f>>6;k=63&f;if(isNaN(e)){j=k=64;}else if(isNaN(f)){k=64;}c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k);}return c};this.decode=function(a){var c="",d,e,f,g,h,j,k,l=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(l<a.length){g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++));h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++));j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++));k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++));d=g<<2|h>>4;e=(15&h)<<4|j>>2;f=(3&j)<<6|k;c=c+String.fromCharCode(d);if(64!=j){c=c+String.fromCharCode(e);}if(64!=k){c=c+String.fromCharCode(f);}}c=b(c);return c};var a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",d=0,e;d<a.length;d++){e=a.charCodeAt(d);if(128>e){b+=String.fromCharCode(e);}else if(127<e&&2048>e){b+=String.fromCharCode(192|e>>6);b+=String.fromCharCode(128|63&e);}else {b+=String.fromCharCode(224|e>>12);b+=String.fromCharCode(128|63&e>>6);b+=String.fromCharCode(128|63&e);}}return b},b=function(a){var b="",d=0,e=0,f=0,g=0;while(d<a.length){e=a.charCodeAt(d);if(128>e){b+=String.fromCharCode(e);d++;}else if(191<e&&224>e){f=a.charCodeAt(d+1);b+=String.fromCharCode((31&e)<<6|63&f);d+=2;}else {f=a.charCodeAt(d+1);g=a.charCodeAt(d+2);b+=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g);d+=3;}}return b};}

  var U = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},urls),{},{global:global$1},base),loading),{},{base64:Base64});

  var G$1=U.global,L$2=G$1.xsloader;try{if(Function.prototype.bind&&console&&"object"==_typeof(console.log)){U.each(["log","info","warn","error","assert","dir","clear","profile","profileEnd"],function(a){var b=Function.prototype.bind;console[a]=b.call(console[a],console);});}}catch(a){G$1.console={log:function log(){},error:function error(){},warn:function warn(){}};}try{if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a,b){for(var c=b===void 0?0:b;c<this.length;c++){if(this[c]==a){return c}}return -1};}if(!Array.pushAll){Array.pushAll=function(a,b){if(!L$2.isArray(b)){throw new Error("not array:"+b)}for(var c=0;c<b.length;c++){a.push(b[c]);}return a};}}catch(a){console.error(a);}function startsWith(a,b){if(!("string"==typeof a)){return false}return 0==a.indexOf(b)}function endsWith(a,b){if(!("string"==typeof a)){return false}var c=a.lastIndexOf(b);if(0<=c&&a.length-b.length==c){return true}else {return false}}function _indexInArray(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,d=3<arguments.length?arguments[3]:void 0,e=-1;if(a){for(var f=c||0;f<a.length;f++){if(d){if(d(a[f],b,f,a)){e=f;break}}else {if(a[f]==b){e=f;break}}}}return e}function indexInArray(a,b,c){return _indexInArray(a,b,0,c)}function indexInArrayFrom(a,b,c,d){return _indexInArray(a,b,c,d)}var deprecated = {startsWith:startsWith,endsWith:endsWith,indexInArray:indexInArray,indexInArrayFrom:indexInArrayFrom};

  var JSON$1={};var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function f(a){return 10>a?"0"+a:a}function this_value(){return this.valueOf()}if("function"!=typeof Date.prototype.toJSON){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};Boolean.prototype.toJSON=this_value;Number.prototype.toJSON=this_value;String.prototype.toJSON=this_value;}var gap,indent,meta,rep;function quote(a){rx_escapable.lastIndex=0;return rx_escapable.test(a)?"\""+a.replace(rx_escapable,function(b){var a=meta[b];return "string"==typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+a+"\""}function str(a,b){var c,d,e,f,g=gap,h,j=b[a];if(j&&"object"===_typeof(j)&&"function"==typeof j.toJSON){j=j.toJSON(a);}if("function"==typeof rep){j=rep.call(b,a,j);}switch(_typeof(j)){case"string":return quote(j);case"number":return isFinite(j)?j+"":"null";case"boolean":case"null":return j+"";case"object":if(!j){return "null"}gap+=indent;h=[];if("[object Array]"===Object.prototype.toString.apply(j)){f=j.length;for(c=0;c<f;c+=1){h[c]=str(c,j)||"null";}e=0===h.length?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]";gap=g;return e}if(rep&&"object"===_typeof(rep)){f=rep.length;for(c=0;c<f;c+=1){if("string"==typeof rep[c]){d=rep[c];e=str(d,j);if(e){h.push(quote(d)+(gap?": ":":")+e);}}}}else {for(d in j){if(Object.prototype.hasOwnProperty.call(j,d)){e=str(d,j);if(e){h.push(quote(d)+(gap?": ":":")+e);}}}}e=0===h.length?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}";gap=g;return e;}}if("function"!=typeof JSON$1.stringify){meta={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"};JSON$1.stringify=function(a,b,c){var d;gap="";indent="";if("number"==typeof c){for(d=0;d<c;d+=1){indent+=" ";}}else if("string"==typeof c){indent=c;}rep=b;if(b&&"function"!=typeof b&&("object"!==_typeof(b)||"number"!=typeof b.length)){throw new Error("JSON.stringify")}return str("",{"":a})};}if("function"!=typeof JSON$1.parse){JSON$1.parse=function(text,reviver){var j;function walk(a,b){var c,d,e=a[b];if(e&&"object"===_typeof(e)){for(c in e){if(Object.prototype.hasOwnProperty.call(e,c)){d=walk(e,c);if(d!==void 0){e[c]=d;}else {delete e[c];}}}}return reviver.call(a,b,e)}text=text+"";rx_dangerous.lastIndex=0;if(rx_dangerous.test(text)){text=text.replace(rx_dangerous,function(b){return "\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)});}if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,""))){j=eval("("+text+")");return "function"==typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")};}

  function proxyPolyfill(){var b=null,c;function a(a){return a?"object"===_typeof(a)||"function"==typeof a:false}c=function(c,d){if(!a(c)||!a(d)){throw new TypeError("Cannot create proxy with a non-object as target or handler")}var e=function(){};b=function(){e=function(a){throw new TypeError("Cannot perform '".concat(a,"' on a proxy that has been revoked"))};};var f=d;d={get:null,set:null,apply:null,construct:null};for(var r in f){if(!(r in d)){throw new TypeError("Proxy polyfill does not support trap '".concat(r,"'"))}d[r]=f[r];}if("function"==typeof f){d.apply=f.apply.bind(f);}var g=this,h=false,i=false;if("function"==typeof c){g=function(){var a=this&&this.constructor===g,b=Array.prototype.slice.call(arguments);e(a?"construct":"apply");if(a&&d.construct){return d.construct.call(this,c,b)}else if(!a&&d.apply){return d.apply(c,this,b)}if(a){b.unshift(c);var h=c.bind.apply(c,b);return new h}return c.apply(this,b)};h=true;}else if(c instanceof Array){g=[];i=true;}var j=d.get?function(a){e("get");return d.get(this,a,g)}:function(a){e("get");return this[a]},l=d.set?function(a,b){e("set");d.set(this,a,b,g);}:function(a,b){e("set");this[a]=b;},m=Object.getOwnPropertyNames(c);if(c instanceof Promise&&c.__proto__){var n=Object.getOwnPropertyNames(c.__proto__),o={};m.forEach(function(a){o[a]=true;});n.forEach(function(a){o[a]=true;});m=[];for(var k in o){m.push(k);}}var p={};m.forEach(function(a){if((h||i)&&a in g){return}var b=Object.getOwnPropertyDescriptor(c,a),d={enumerable:!!(b&&b.enumerable),get:j.bind(c,a),set:l.bind(c,a)};Object.defineProperty(g,a,d);p[a]=true;});var q=true;if(Object.setPrototypeOf){Object.setPrototypeOf(g,Object.getPrototypeOf(c));}else if(g.__proto__){g.__proto__=c.__proto__;}else {q=false;}if(d.get||!q){for(var s in c){if(p[s]){continue}Object.defineProperty(g,s,{get:j.bind(c,s)});}}Object.seal(c);Object.seal(g);return g};c.revocable=function(a,d){var e=new c(a,d);return {proxy:e,revoke:b}};return c}

  function polyfillInit(a,b){var c=proxyPolyfill();if(!a.Proxy){a.Proxy=c;}b.Proxy=c;}

  var G$2=U.global,L$3=G$2.xsloader,IE_VERSION$1=U.IE_VERSION;polyfillInit(G$2,L$3);if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};}function randId(a){var b="r"+parseInt(new Date().getTime()/50).toString(16)+parseInt(1e3*Math.random()).toString(16)+U.getAndIncIdCount().toString(16);if(a!==void 0){b+=a;}return b}function xsEval(scriptString){var rs=0<IE_VERSION$1&&9>IE_VERSION$1?eval("["+scriptString+"][0]"):eval("("+scriptString+")");return rs}function xsParseJson(a,b){try{if(""===a||null===a||a===void 0||!L$3.isString(a)){return a}b=L$3.extend({fnStart:"",fnEnd:"",rcomment:"\\/\\/#\\/\\/"},b);var c={},d=0,e=void 0;if(b.fnStart&&b.fnEnd){while(true){var f=a.indexOf(b.fnStart,d),g=a.indexOf(b.fnEnd,-1==f?d:f+b.fnStart.length);if(-1==f&&-1==g){break}else if(-1==f){console.warn("found end:"+b.fnEnd+",may lack start:"+b.fnStart);break}else if(-1==g){console.warn("found start:"+b.fnStart+",may lack end:"+b.fnEnd);break}var h="_[_"+randId()+"_]_",i=a.substring(f+b.fnStart.length,g).trim();if(!L$3.startsWith(i,"function(")){throw "not a function:"+i}try{a=a.substring(0,f)+"\""+h+"\""+a.substring(g+b.fnEnd.length);var m=L$3.xsEval(i);c[h]=m;}catch(a){console.error(i);throw a}d=f+h.length;}e=function(a,b){if(L$3.isString(b)&&c[b]){return c[b]}else {return b}};}if(b.rcomment){a=a.replace(/(\r\n)|\r/g,"\n");a=a.replace(new RegExp(b.rcomment+"[^\\n]*(\\n|$)","g"),"");}return JSON$1.parse(a,e)}catch(b){try{if(b.message&&/position[\s]*([0-9]+)[\s]*$/.test(b.message)){var j=b.message.substring(b.message.lastIndexOf("position")+8),k=parseInt(j.trim()),l=a.substring(k);console.error(b.message+":"+l.substring(0,100<l.length?100:l.length));}}catch(a){console.warn(a);}throw b}}function xsJson2String(a){return JSON$1.stringify(a)}var getPathWithRelative$1=U.getPathWithRelative;function _toParamsMap(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true;if(L$3.isObject(a)){return a}if(!a){a=location.search;}var c=a.indexOf("?");if(0<=c){a=a.substring(c+1);}else {if(U.dealPathMayAbsolute(a).absolute){return {}}}c=a.lastIndexOf("#");if(0<=c){a=a.substring(0,c);}for(var d={},e=a.split("&"),f,g=0;g<e.length;g++){if(!e[g]){continue}f=e[g].split("=");var h=b?decodeURIComponent(f[0]):f[0];d[h]=b?decodeURIComponent(f[1]):f[1];}return d}function appendArgs2Url(a,b){if(a===void 0||null===a||!b){return a}var c=a.lastIndexOf("?"),d=a.lastIndexOf("#");if(0>d){d=a.length;}var e=0>c?{}:_toParamsMap(a.substring(c+1,d),false),f=_toParamsMap(b,false);for(var o in f){if(e[o]!=f[o]){e[o]=f[o];}}var g=[];for(var k in e){g.push(k);}g.sort();for(var h=0>c?a.substring(0,d):a.substring(0,c),j=[],l=0,m;l<g.length;l++){m=g[l];j.push(m+"="+e[m]);}j=j.join("&");var n="";if("string"==typeof b&&0<=b.lastIndexOf("#")){n=b.substring(b.lastIndexOf("#"));}else if(0<=d&&d<a.length){n=a.substring(d);}return h+(j?"?"+j:"")+(n?n:"")}function domAttr(a,b){var c;if(a&&null!==(c=a.getAttribute(b))&&c!==void 0){return c}}function queryString2ParamsMap(a,b){return _toParamsMap(a,b)}var base$1 = {domAttr:domAttr,randId:randId,xsEval:xsEval,xsParseJson:xsParseJson,xsJson2String:xsJson2String,getPathWithRelative:getPathWithRelative$1,appendArgs2Url:appendArgs2Url,queryString2ParamsMap:queryString2ParamsMap,IE_VERSION:IE_VERSION$1};

  var ostring=Object.prototype.toString;function isArray(a){return a&&a instanceof Array||"[object Array]"===ostring.call(a)}function isFunction(a){return a&&"function"==typeof a||"[object Function]"===ostring.call(a)}function isObject(a){if(null===a||a===void 0){return false}return "object"==_typeof(a)||"[object Object]"===ostring.call(a)}function isString(a){return a&&"string"==typeof a||"[object String]"===ostring.call(a)}function isDate(a){return a&&a instanceof Date||"[object Date]"===ostring.call(a)}function isRegExp(a){return a&&a instanceof RegExp||"[object RegExp]"===ostring.call(a)}function isEmpty(a){return null===a||a===void 0||""===a}var is = {isArray:isArray,isFunction:isFunction,isObject:isObject,isString:isString,isDate:isDate,isRegExp:isRegExp,isEmpty:isEmpty};

  var G$3=U.global,L$4=G$3.xsloader;function queryParam(a,b,c){var d;if(c){var g=c.indexOf("?");if(0>g){g=0;}else {g+=1;}d=c.substr(g);}else {d=window.location.search.substr(1);}var e=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),f=d.match(e);if(null!=f)return decodeURIComponent(f[2]);return b!==void 0?b:null}function getUrl(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true,c=2<arguments.length?arguments[2]:void 0;if(c&&!U.dealPathMayAbsolute(c).absolute){throw new Error("expected absolute url:"+c)}var d=L$4.config(),e=U.thePageUrl,f;if(a===void 0){f=e;}else if(L$4.startsWith(a,".")||U.dealPathMayAbsolute(a).absolute){f=U.getPathWithRelative(c||e,a);}else {f=d.baseUrl+a;}if(b){if(f==e){f+=location.search+location.hash;}return d.dealUrl({},f)}else {return f}}function getUrl2(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true,c=2<arguments.length?arguments[2]:void 0,d=getUrl(a,false,c);if(b){return L$4.config().dealUrl({},d)}else {return d}}function tryCall(a,b,c,d){var e;try{c=c===void 0?this:c;e=a.call(c);}catch(a){if(L$4.isFunction(d)){d(a);}else {console.warn(a);}}if(e===void 0||null===e){e=b;}return e}function dealProperties(a,b){return U.propertiesDeal(a,b)}function extend(a){for(var b=1,c;b<arguments.length;b++){c=arguments[b];if(!c){continue}for(var d in c){var e=c[d];if(e===void 0){continue}a[d]=c[d];}}return a}function extendDeep(a){if(!a){return a}for(var b=1,c;b<arguments.length;b++){c=arguments[b];if(!c){continue}for(var d in c){var e=c[d];if(e===void 0){continue}if(L$4.isObject(e)&&L$4.isObject(a[d])){a[d]=L$4.extendDeep(a[d],e);}else {a[d]=c[d];}}}return a}function _AsyncCall(a){var c=this,d=0,e={};function b(b){var f=d+"";if(!e[f]){var h=function(){d++;var a=e[f];delete e[f];while(a.length){var b=a.shift(),g=void 0;try{if(b.callback){g=b.callback.call(b.handle,b.obj,f);}}catch(a){console.error(a);}var h=void 0;while(b.nextCallback.length){var i=b.nextCallback.shift();if(!h){h=c.pushTask(i.callback,g);}else {h.next(i.callback);}}}};e[f]=[];if(!a&&G$3.Promise&&G$3.Promise.resolve){G$3.Promise.resolve().then(h);}else {setTimeout(h,0);}}var g=e[f];g.push(b);}this.pushTask=function(a,c){var d,e={next:function next(a,b){d.nextCallback.push({callback:a,lastReturn:b});return this}};d={callback:a,obj:c,nextCallback:[],handle:e};b(d);return e};}var theAsyncCall=new _AsyncCall,theAsyncCallOfTimer=new _AsyncCall(true),asyncCall=function(a,b){if(b){return theAsyncCallOfTimer.pushTask(a)}else {return theAsyncCall.pushTask(a)}};function getObjectAttr(a,b,c){if(!a||!b){return}var d=b.split("."),e=c,f=0;for(;f<d.length&&a;f++){var g=d[f];a=a[g];}if(f==d.length){e=a;}return e}function setObjectAttr(a,b,c){for(var d=a,e=b.split("."),f=0,g;f<e.length;f++){g=e[f];if(f==e.length-1){a[g]=c;break}var h=a[g];if(!h){h={};a[g]=h;}a=h;}return d}function clone(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:false;if(!a||L$4.isFunction(a)||L$4.isString(a))return a;if(L$4.isRegExp(a)){return new RegExp(a.source,a.flags)}if(L$4.isDate(a)){var c=new Date;c.setTime(a.getTime());return c}if(L$4.isArray(a)||L$4.isObject(a)){var d=L$4.isArray(a)?[]:{};for(var e in a){var f=a[e];d[e]=b?clone(f):f;}return d}return a}function sortObject(a){if(!a||!L$4.isObject(a)){return a}else {var d=[];for(var e in a){d.push(e);}d.sort();for(var b={},c=0;c<d.length;c++){b[d[c]]=a[d[c]];}return b}}var funs = {queryParam:queryParam,getUrl:getUrl,getUrl2:getUrl2,tryCall:tryCall,dealProperties:dealProperties,extend:extend,extendDeep:extendDeep,asyncCall:asyncCall,getObjectAttr:getObjectAttr,setObjectAttr:setObjectAttr,clone:clone,sortObject:sortObject};

  var G$4=U.global,L$5=G$4.xsloader,isDOM="object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?function(a){return a&&a instanceof HTMLElement}:function(a){return a&&"object"===_typeof(a)&&1===a.nodeType&&"string"==typeof a.nodeName},onReadyFun=function(){var b=false,c=[];function a(a){if(b){a();return}var d=false,e;function c(){if(d)return;d=true;b=true;if(e){e();e=null;}a();}if(document.addEventListener){var f=function(){c();};e=function(){document.removeEventListener("DOMContentLoaded",f);};document.addEventListener("DOMContentLoaded",f);}else if(document.attachEvent){var g=function(){if("complete"===document.readyState){c();}};e=function(){document.detachEvent("onreadystatechange",g);};document.attachEvent("onreadystatechange",g);var h=function fun2(){if(d)return;try{document.documentElement.doScroll("left");}catch(a){setTimeout(h,0);return}c();};if(document.documentElement.doScroll&&"undefined"==typeof G$4.frameElement)h();}else {L$5.asyncCall(null,true).next(function(){c();});}this.readyCall=c;}var d=function(d){if("complete"===document.readyState){b=true;}if(b){d();}else {var e=new a(d);c.push(e);}},e;d(function(){b=true;if(e&&e.remove){e.remove();e=null;}});if("complete"===document.readyState){b=true;}else {if(G$4.addEventListener){e=function addEventHandle(a,b){var c=function(){e.remove();b();};G$4.addEventListener(a,c,false);e.remove=function(){if(c){G$4.removeEventListener(a,c);c=null;}};};}else if(G$4.attachEvent){e=function _addEventHandle(a,b){var c=function(){e.remove();b();};G$4.attachEvent("on"+a,c);e.remove=function(){if(c){G$4.detachEvent("on"+a,c);c=null;}};};}else {e=function(a,b){L$5.asyncCall(null,true).next(function(){b();});};}e("load",function(){b=true;while(c.length){c.shift().readyCall();}});}return d}();var browser = {isDOM:isDOM,onReady:onReadyFun};

  var G$5=U.global,L$6=G$5.xsloader,env={version:"1.1.37"},toGlobal=_objectSpread2(_objectSpread2({},deprecated),base$1);for(var k in toGlobal){L$6[k]=toGlobal[k];G$5[k]=toGlobal[k];}var justLoader=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},is),funs),browser),{},{ignoreAspect_:{},each:U.each,Base64:U.base64,env:env});for(var _k in justLoader){L$6[_k]=justLoader[_k];}

  var L$7=U.global.xsloader,theDefinedMap={},lastDefinObjectMap={};L$7.__showModules=function(){console.log(theDefinedMap);};var ModuleDef=function(){function a(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:false;_classCallCheck(this,a);this.src=void 0;this.defaultModule=void 0;this.modules=void 0;this.isPreDependOn=void 0;this._preModule=void 0;this._preIndex=void 0;this.targetDef=void 0;this.src=b;this.isPreDependOn=c;this.modules={};this.defaultModule=null;this.targetDef=null;if(c){this._preModule={preDependModule:true,relyQueue:[],get:function get(){return this},relyIt:function relyIt(){for(var a=[],b=0;b<arguments.length;b++){a.push(arguments[b]);}this.relyQueue.push(a);}};}}_createClass(a,[{key:"giveRelys",value:function giveRelys(a){var b=this._preModule.relyQueue;a.index=a.index||this._preIndex||0;this._preModule=null;while(b.length){var c=b.shift();a.relyIt.apply(a,c);}}}]);return a}();function _isSrc(a){var b=/^[a-zA-Z0-9]+:\/\//.test(a);return b}function setLastDefineObject(a,b){a=U.removeQueryHash(a);lastDefinObjectMap[a]=b;}function getLastDefineObject(a){a=U.removeQueryHash(a);return lastDefinObjectMap[a]}function appendLoadingModuleDeps(a){var b=a.src,c=a.deps,d=theDefinedMap[b];if(d){var e=d.defaultModule&&"loading"==d.defaultModule.state&&d.defaultModule,f=e&&e.deps;U.each(f,function(a){if(-1==L$7.indexInArray(c,a)){c.push(a);}});if(e){a.pushName(e.selfname);}for(var g in d.modules){e="loading"==d.modules[g].state&&d.modules[g];f=e&&e.deps;if(e){a.pushName(e.selfname);}U.each(f,function(a){if(-1==L$7.indexInArray(c,a)){c.push(a);}});}}}function getModule(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;a=U.removeQueryHash(a);var d=_isSrc(a),e=L$7.config();if(e&&e.autoExt&&/\/[^\/.]+$/.test(a)){a+=e.autoExtSuffix;}var f=theDefinedMap[a];if(f){var i;if(d){if(b){i=f.modules[b];}else {i=f.defaultModule;}}else {if(f.isPreDependOn){i=f._preModule;}else {i=f.modules[a];}}if(i==c){i=null;}if(!i&&c){var g=0,h=f.defaultModule;h&&h!=c&&g++;for(var j in f.modules){h=f.modules[j];h!=c&&g++;}if(1==g&&("loaded"==h.state||"defined"==h.state)){i=h;}}return i?i.get():null}else {return null}}function preDependOn(a,b){var c=_isSrc(a);if(c){throw new Error("expected name,but src:"+a)}else if(theDefinedMap[a]){throw new Error("already defined:"+a)}else {var d=new ModuleDef(null,true);d._preIndex=b;theDefinedMap[a]=d;}}function replaceModuleSrc(a,b){var c=theDefinedMap[a];if(!c){throw new Error("not found module:src="+a)}else if(theDefinedMap[b.src]){throw new Error("already exists module:src="+b.src)}else {c.src=b.src;delete theDefinedMap[a];theDefinedMap[b.src]=c;}}function clearEmptyModuleBySrc(a){var b=theDefinedMap[a];if(b&&!b.defaultModule){if(b.defaultModule){throw new Error("not empty module:src="+a)}else {for(var c in b.modules){throw new Error("not empty module:src="+a)}}delete theDefinedMap[a];}}function setModule(a,b){var c=b.src;if(!c){throw new Error("expected module src!")}var d=theDefinedMap[c];if(d){if(a){var e=theDefinedMap[a];if(theDefinedMap[a]&&e!=d&&!e.isPreDependOn&&!(e.modules[a]&&e.modules[a].id==b.id)){throw new Error("already define module:\n\tname="+a+",current.src="+c+",\n\tthat.src="+theDefinedMap[a].src)}else {d.modules[a]=b;theDefinedMap[a]=d;if(e&&e.isPreDependOn){e.giveRelys(b);}}}else {if(d.defaultModule&&d.defaultModule!=b){throw new Error("already define default module:src="+c)}else {d.defaultModule=b;}}}else {d=new ModuleDef(c);theDefinedMap[c]=d;if(a){d.modules[a]=b;var f=theDefinedMap[a];if(f&&!f.isPreDependOn){throw new Error("already define module:\n\tname="+a+",current.src="+c+",\n\tthat.src="+theDefinedMap[a].src)}else {theDefinedMap[a]=d;if(f&&f.isPreDependOn){f.giveRelys(b);}}}else {d.defaultModule=b;}}}var moduleDef = {getModule:getModule,setModule:setModule,replaceModuleSrc:replaceModuleSrc,clearEmptyModuleBySrc:clearEmptyModuleBySrc,preDependOn:preDependOn,setLastDefineObject:setLastDefineObject,getLastDefineObject:getLastDefineObject,appendLoadingModuleDeps:appendLoadingModuleDeps};

  var L$8=U.global.xsloader;function newModuleInstance(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,e={index:d,relyCallback:c,_invoker:b,_module_:null,initInvoker:function initInvoker(){var b=this;if(a.ignoreAspect){return}var c=this._object,d=this._invoker,e=function(a){a._invoker_=d;if(a._module_){a._modules_=a._modules_||[];a._modules_.push(a._module_);}a._module_=b._module_;return a},f="clone"!=a.instanceType;if(L$8.isObject(c)){if(a.loopObject&&!f){throw new Error("loop dependency not support single option:"+a.description())}this._object=e(f?c:L$8.clone(c));}else if(L$8.isFunction(c)){this._object=e(c);}},_object:null,_setDepModuleObjectGen:function _setDepModuleObjectGen(a){this._object=a;this.initInvoker();},module:a,moduleObject:function moduleObject(){return this._object},genExports:function genExports(){this._setDepModuleObjectGen({});return this._object},_dealPluginArgs:function _dealPluginArgs(a){if(this._object&&this._object.dealPluginArgs){return this._object.dealPluginArgs.call(this.thiz,a)}else {var b=L$8.config(),c=[a];U.replaceModulePrefix(b,c);a=c[0];return a}},_getCacheKey:function _getCacheKey(a){if(this._object.getCacheKey){return this._object.getCacheKey.call(this.thiz,a)}var b=this._invoker.getUrl();return b},_willCache:function _willCache(a,b){if(this._object.willCache){return this._object.willCache.call(this.thiz,a,b)}return true},lastSinglePluginResult:function lastSinglePluginResult(a){var b=this._getCacheKey(a);return this.module.lastSinglePluginResult(b,a)},setSinglePluginResult:function setSinglePluginResult(a,b){var c=this._getCacheKey(a),d=this._willCache(a,b);return this.module.setSinglePluginResult(d,c,a,b)},initInstance:function initInstance(b,c){var d=this,e=this.relyCallback;this._module_=this.module.dealInstance(this);this._setDepModuleObjectGen(this.module.loopObject||this.module.moduleObject);var f;if(!L$8.isEmpty(c)){f=this._dealPluginArgs(c);}else {f=c;}if(f!==void 0){if(!this._object){throw new Error("pulgin error:"+this.module.description())}if(this._object.isSingle===void 0){this._object.isSingle=true;}if(b&&!this._object.isSingle){throw new Error("just for single plugin")}var g=false,h=function(a,b){if(a===void 0){a={__default:true};}g=true;if(d._object.isSingle){d.setSinglePluginResult(f,{result:a,ignoreAspect:b});}d.module.ignoreAspect=b===void 0||b;d._setDepModuleObjectGen(a);e(d);},i=function(a){g=true;e(d,new U.PluginError(a||false));};try{var j;if(this._object.isSingle&&(j=this.lastSinglePluginResult(f))!==void 0){var k=j;h(k.result,k.ignoreAspect);}else {var l=[f,h,i,L$8.config()].concat(this.module.args);this._object.pluginMain.apply(this.thiz,l);}}catch(a){i(a);}if(!g){setTimeout(function(){if(!g){console.warn("invoke plugin may failed:page="+location.href+",plugin="+a.selfname+"!"+f);}},1e3*L$8.config().waitSeconds);}}else {e(this);}}},f={index:d,module:a,src:a.src,scriptSrc:a.scriptSrc,absUrl:function absUrl(){return a.thiz.absUrl()},selfname:a.thiz.getName(),invoker:e._invoker};e.thiz=new script.Invoker(f);return e}function _newModule(a,b,c,d){var e=U.removeQueryHash(b),f=new script.DefineObject(b,e,null,[a,null,null]);f.index=d;f.thatInvoker=c;f.appendConfigDepsAndEmbedDeps();return newModule(f)}function newModule(a){var b=[],c={index:a.index||0,id:U.getAndIncIdCount(),selfname:a.selfname,parent:a.parentDefine,description:function description(){return "id=".concat(this.id,",selfname=").concat(this.selfname||"",",src=").concat(this.src)},deps:a.deps||[],relys:[],ignoreAspect:false,args:null,src:a.src,scriptSrc:a.scriptSrc,absUrlFromModule:function absUrlFromModule(){return a.absUrlFromDefineObject()},getCallback:function getCallback(){return a.callback},_dealApplyArgs:function _dealApplyArgs(a){return a},_loadCallback:null,moduleObject:void 0,exports:null,loopObject:void 0,invoker:a.thatInvoker,instanceType:"single",reinitByDefineObject:function reinitByDefineObject(a){this.deps=a.deps||[];this.getCallback=function(){return a.callback};},setInstanceType:function setInstanceType(a){this.instanceType=a;},_singlePluginResult:{},lastSinglePluginResult:function lastSinglePluginResult(a,b){if(this._singlePluginResult[a]){return this._singlePluginResult[a][b]}},setSinglePluginResult:function setSinglePluginResult(a,b,c,d){if(a){if(!this._singlePluginResult[b]){this._singlePluginResult[b]={};}this._singlePluginResult[b][c]=d;}else {if(this._singlePluginResult[b]){delete this._singlePluginResult[b][c];}}},finish:function finish(a){a=this._dealApplyArgs(a);this.args=a;var b;if(L$8.isFunction(this.getCallback())){try{script.currentDefineModuleQueue.push(this);b=this.getCallback().apply(this.thiz,a);script.currentDefineModuleQueue.pop();}catch(a){script.currentDefineModuleQueue.pop();console.error("error occured,invoker.url=",this.invoker?this.invoker.getUrl():"");console.error(a);this.setState("error",a);throw a}}else {b=this.getCallback();if(this.moduleObject!==void 0){console.warn("ignore moudule:"+c.description());}}var d=false;if(b===void 0){d=true;b={__default:true};}if(this.loopObject){if(!L$8.isObject(b)){throw new Error("\u5FAA\u73AF\u4F9D\u8D56\u7684\u6A21\u5757\u5FC5\u987B\u662F\u5BF9\u8C61\uFF1A"+this.description())}for(var e in b){this.loopObject[e]=b[e];}b=this.loopObject;}if(this.moduleObject===void 0||!d&&b!==void 0){this.moduleObject=b;}this.setState("defined");},state:"init",errinfo:null,_callback:function _callback(a){var b=this,c=b.state;if("defined"==c||b.loopObject){var d=function(){if(a){var c=newModuleInstance(b,a.thatInvoker,a.relyCallback,a.index);c.initInstance(false,a.pluginArgs);}},e=!b.loopObject&&L$8.config().getDeps(b.selfname);if(e&&0<e.length){L$8.require(e,function(){d();}).then({defined_module_for_deps:this.selfname});}else {d();}return false}else if("timeout"==c||"error"==c){if(a){a.relyCallback(this,this.errinfo);}return false}else {return true}},setState:function setState(a,b){this.state=a;this.errinfo=b;if(!this._callback()){while(this.relys.length){var c=this.relys.shift();this._callback(c);}}},get:function get(){if(this.refmodule){this.state=this.refmodule.state;return this.refmodule}return this},refmodule:void 0,toOtherModule:function toOtherModule(a){this.refmodule=a;this.get();var b=this.relys;this.relys=[];while(b.length){var c=b.shift();this.refmodule.relyIt(c.thatInvoker,c.relyCallback,c.pluginArgs);}},whenNeed:function whenNeed(a){if(this.relys.length||this.refmodule&&this.refmodule.relys.length){a();}else {this._loadCallback=a;}},relyIt:function relyIt(a,b,c,d){if(this.refmodule){this.get();this.refmodule.relyIt(a,b,c,d);return}var e={thatInvoker:a,relyCallback:b,pluginArgs:c,index:d};if(this._callback(e)){this.relys.push(e);}if(this._loadCallback){var f=this._loadCallback;this._loadCallback=null;f();}}};new script.Invoker(c);c.dealInstance=function(a){b.push(a);return {opId:null,setToAll:function setToAll(a,c,d){if(d!==void 0&&d==this.opId){return}d=d||getModuleId();this.opId=d;var e={};if(L$8.isString(a)){e[a]=c;}else if(L$8.isObject(a)){for(var f in a){e[f]=a[f];}}else {throw new Error("unknown param:"+a)}U.each(b,function(b){var f=b.moduleObject();for(var g in e){f[g]=e[g];}if(f._modules_){U.each(f._modules_,function(b){b.setToAll(a,c,d);});}});}}};c.printOnNotDefined=function(){var c=this;if(this.refmodule&&this.refmodule.printOnNotDefined){this.refmodule.printOnNotDefined();return}var d={nodes:[]};this._printOnNotDefined(d);var e=[];function a(b){if(b.nodes.length){U.each(b.nodes,function(b){a(b);});}else {e.push(b);}}a(d);function b(a,c,d){c.push(a.err);d.push(a);if(a.parent){b(a.parent,c,d);}}console.error("{-----------------------------------------------------------------------------------------------");console.error("load module error:id="+this.id+","+(this.selfname?"selfname="+this.selfname+",":"")+"my page="+location.href);var f={};U.each(e,function(a){var d=[],e=[];b(a,d,e);if(e.length){var r=e[0].id+"-"+e[e.length-1].id;if(f[r]){return}else {f[r]=true;}}d=d.reverse();for(var s=1,i;s<d.length;){i=[];for(var t=0;3>t&&s<d.length;t++){i.push(d[s++]);}console.warn(i.join("\n-----[".concat(c.id,"]-->")));console.log("");}var g=a.module;if(a.module&&"defined"==a.module.state){g=a.parent.module;}if(g){for(var h=function(a){var b=a.lastIndexOf("/");return a.substring(b+1)},j=function(a){return "defined"==a?a:"\u3010"+(a||"")+"\u3011"},l=[],m=0;m<g.deps.length;m++){var n=g.deps[m],o=n.lastIndexOf("!");if(-1!=o){n=n.substring(0,o);}if(0==m%5){l.push("\t");}var k=moduleDef.getModule(n);if(k){l.push(h(n)+":"+j(k.state));}else {l.push(h(n)+":");}if(m<g.deps.length-1){l.push(",");}if(0==(m+1)%5){l.push("\n");}}console.warn("failed module:"+g.description());console.warn("deps state infos:{");console.warn(l.join(""));console.warn("}");for(var u=0;u<g.deps.length;u++){var p=g.deps[u],q=p.lastIndexOf("!");if(-1!=q){p=p.substring(0,q);}var v=moduleDef.getModule(p);if(v){console.warn("[dep]"+h(p)+":state="+j(v.state)+"\n\tsrc="+v.src+"\n\tabsUrl="+(v.thiz&&v.thiz.absUrl()));}else {console.warn("[dep]"+h(p)+":");}}}});console.error("}-----------------------------------------------------------------------------------------------");};c._printOnNotDefined=function(a){var b=this,c={err:"["+this.description()+"].state="+this.state,id:this.id,module:this,parent:a,nodes:[]};a.nodes.push(c);if("defined"==this.state){return}U.each(this.deps,function(d){if("exports"==d){return}var e=d.indexOf("!");if(0<e){d=d.substring(0,e);}var f=moduleDef.getModule(d);if(!f&&0<=d.indexOf("/")){d=b.thiz.getUrl(d,false);f=moduleDef.getModule(d);}if(f&&"defined"==f.state){f._printOnNotDefined(c);return}if(f){f._printOnNotDefined&&f._printOnNotDefined(c);}else {c.nodes.push({parent:a,id:U.getAndIncIdCount(),nodes:[],err:"["+d+"] has not module"});}});};moduleDef.setModule(c.selfname,c);return c}var randModuleIndex=0;function getModuleId(){return "_xs_req_2019_"+randModuleIndex++}function everyRequired(a,b,c,d){if(a.isError){return}a.dealRelative(b);var f=L$8.config(),g=false,h=false,i,j=b.deps.length,k=Array(j),l=b.thiz;function e(a,e,f,i){k[a]=f;var m=0>=j&&!g,n;if(m){c(k,b);}else if(g){if(!h){var o=new U.PluginError(g,l,{index:a,dep_name:e});n=d(o,l);if(n&&n.ignoreErrState){if(n.onGetModule){b.moduleObject=n.onGetModule();}if(m){c(k,b);}}else {h=true;b.setState("error",g);}}}if(!g&&i){i();}return n}U.each(b.deps,function(c,h,k,m){var n=c,o=void 0,p=c.indexOf("!");if(0<p){o=c.substring(p+1);c=c.substring(0,p);}var q=function(){var a=moduleDef.getModule(c);if(!a){console.warn("not found module define: dep=".concat(c));}a.relyIt(l,function(a,d){if(!d){j--;if("exports"==c){if(i){b.moduleObject=i;}else {i=b.moduleObject=a.genExports();}b.exports=i;}}else {g=d;}var f=e(h,n,a,m);if(f&&f.ignoreErrState){g=false;if(f.onFinish){f.onFinish();}}},o,h);};if(!moduleDef.getModule(c)){var r=U.isJsFile(c),s=function(){var e;if(!r&&0>c.indexOf("/")&&0<=c.indexOf(":")){var i=c.indexOf(":"),j=c.indexOf(":",i+1),k=0<j?c.indexOf(":",j+1):-1;if(-1==j){g="illegal module:"+c;d(g,l);return "break"}var m,n;if(-1==k){m=f.defaultVersion[c];n=c+":"+m;}else {m=c.substring(k+1);n=c;}if(m===void 0){g="unknown version for:"+c;d(g,l);return "break"}var q=L$8.resUrlBuilder(n);e=L$8.isArray(q)?q:[q];}else if(f.isInUrls(c)){e=f.getUrls(c);}else if(r){e=[c];}else {if(f.autoExt&&/\/[^\/.]+$/.test(c)){e=[c+f.autoExtSuffix];}else {e=[];}}if(0==e.length){moduleDef.preDependOn(c,h);}else {U.each(e,function(h,i){if(L$8.startsWith(h,".")||L$8.startsWith(h,"/")){if(!l.rurl(a)){g="script url is null:'"+b.description();d(g,l);}h=U.getPathWithRelative(l.rurl(a),h);}else {var j=U.dealPathMayAbsolute(h);if(j.absolute){h=j.path;}else {h=f.baseUrl+h;}}if(e[i]==c){c=h;}e[i]=f.dealUrl(c,h,true);});}if(!g&&e.length){var s=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(b>=e.length){return}var c=e[b];moduleDef.setLastDefineObject(c,a);if(0<b){var f=p.src;p.src=U.removeQueryHash(c);moduleDef.replaceModuleSrc(f,p);}script.loadScript(p.selfname,c,function(){var a;if("loading"==p.state){a=moduleDef.getModule(p.src,null,p);if(a&&p!=a){p.toOtherModule(a);}}if(!a&&"loading"==p.state){try{p.finish([]);}catch(a){g=a;d(g,l);}}},function(a){if(b+1<e.length){s(b+1);}else {g=a;d(g,l);}});};U.replaceModulePrefix(f,e);if(r){var t;U.each([c].concat(e),function(a){t=moduleDef.getModule(a);if(t){return false}});if(t){c=t.src;return "break"}}var o=r?null:c,p=_newModule(o,e[0],l,h);moduleDef.setModule(null,p);p.setState("loading");var u=[];if(o){var v=f.getDeps(o);U.each(v,function(a){if(-1==L$8.indexInArray(u,a)){u.push(a);}});}U.each(e,function(a){var b=f.getDeps(a);U.each(b,function(a){if(-1==L$8.indexInArray(u,a)){u.push(a);}});});if(u.length){L$8.require(u,function(){s();});}else {s();}}};do{var t=s();if("break"===t)break}while(false)}if(!g){q();}},a.handle.orderDep);}var moduleScript = _objectSpread2(_objectSpread2({},moduleDef),{},{newModule:newModule,everyRequired:everyRequired,newModuleInstance:newModuleInstance,getModuleId:getModuleId});

  var L$9=U.global.xsloader,defContextName="xsloader1.1.x",DATA_ATTR_MODULE="data-xsloader-module",DATA_ATTR_CONTEXT="data-xsloader-context",INNER_DEPS_PLUGIN="__inner_deps__",innerDepsMap={},globalDefineQueue=[],isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),safariVersion=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/version\/([\d.]+)\s+safari/);return b?parseInt(b[1]):-1}(),readyRegExp="PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,theLoaderScript=document.currentScript||U.getScriptBySubname("xsloader.js"),theLoaderUrl=U.removeQueryHash(U.getNodeAbsolutePath(theLoaderScript)),thePageUrl$1=U.thePageUrl,theHead=document.head||document.getElementsByTagName("head")[0],currentDefineModuleQueue=[];currentDefineModuleQueue.peek=function(){if(0<this.length){return this[this.length-1]}};var _lastAppendHeadDom=theLoaderScript,isSrcFromScriptLoad,lastSrc=thePageUrl$1,lastScriptSrc=location.href,theRealDefine;if(0<safariVersion&&7>=safariVersion){isSrcFromScriptLoad=true;}function _dealEmbedDeps(a,b){for(var e=0,f;e<a.length;e++){f=a[e];if(L$9.isArray(f)){var c="inner_order_"+moduleScript.getModuleId(),d=!(0<f.length&&false===f[0]);if(0<f.length&&(false===f[0]||true===f[0])){f=f.slice(1);}innerDepsMap[c]={deps:f,absUrl:b.absUrlFromDefineObject(),orderDep:d,src:b.src};a[e]=INNER_DEPS_PLUGIN+"!"+c;}}}function _getPluginParam(a){var b=a.indexOf("!");if(0<b){return a.substring(b)}else {return ""}}var Handle=function(){function a(b){_classCallCheck(this,a);this.defineObject=void 0;this.defineObject=b;}_createClass(a,[{key:"then",value:function then(a){var b=this.defineObject;b.handle=L$9.extend(b.handle,a);return this}},{key:"error",value:function error(a){var b=this.defineObject;b.handle.onError=a;return this}},{key:"onError",value:function onError(a,b){return this.defineObject.handle.onError(a,b)}}]);return a}(),ThisInvoker=function a(b){_classCallCheck(this,a);this.invoker=void 0;this.invoker=b;};function _buildInvoker(a){var b=a.thiz;a=a.module||a;var c=L$9.randId();b.getId=function(){return c};b.getUrl=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true,d=2<arguments.length?arguments[2]:void 0;if(d&&!U.dealPathMayAbsolute(d).absolute){throw new Error(-1,"expected absolute url:"+d)}var e;if(b===void 0){e=this.src();}else if(L$9.startsWith(b,".")||U.dealPathMayAbsolute(b).absolute){e=U.getPathWithRelative(d||this.absUrl(),b);}else {var f=L$9.config(),g=[b];U.replaceModulePrefix(f,g);if(L$9.startsWith(g[0],b)){e=L$9.config().baseUrl+b;}else {e=g[0];}}if(c){if(e==thePageUrl$1){e+=location.search+location.hash;}return L$9.config().dealUrl(a,e)}else {return e}};b.getUrl2=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true,d=2<arguments.length?arguments[2]:void 0,e=this.getUrl(b,false,d);if(c){return L$9.config().dealUrl(a,e)}else {return e}};b.appendArgs=function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:U.global.location.href,d=L$9.config().getUrlArgs(a,c);return L$9.appendArgs2Url(b,d)};b.require=function(){var a=L$9.require.apply(new ThisInvoker(b),arguments);if(a instanceof Handle){a.then({absUrl:b.src()});}return a};b.require.get=function(a){return L$9.require.get.apply(new ThisInvoker(b),[a])};b.define=function(){var a=L$9.define.apply(new ThisInvoker(b),arguments);if(a instanceof Handle){a.then({absUrl:b.src()});}return a};b.rurl=function(a){return a&&a.absUrlFromDefineObject()||this.absUrl()};b.defineAsync=function(){var a=b.define.apply(b,arguments);return a};b.withAbsUrl=function(c){var d={module:a,get src(){return b.src()},set src(a){throw "not support!"},get scriptSrc(){return b.scriptSrc()},set scriptSrc(a){throw "not support!"},absUrl:function absUrl(){var a=c||b.absUrl();return a},absUrlFromModule:function absUrlFromModule(){return this.absUrl()},name:b.getName(),invoker:b.invoker()};return new Invoker(d)};}var Invoker=function(){function a(b){_classCallCheck(this,a);this._im=void 0;this._id=void 0;this._im=new L$9.InVar(b);this._id=U.getAndIncIdCount();b.thiz=this;_buildInvoker(b);}_createClass(a,[{key:"getId",value:function getId(){return this._id}},{key:"getAbsoluteUrl",value:function getAbsoluteUrl(){return this._im.get().src}},{key:"src",value:function src(){return this._im.get().src}},{key:"scriptSrc",value:function scriptSrc(){return this._im.get().scriptSrc}},{key:"getName",value:function getName(){return this._im.get().selfname}},{key:"getIndex",value:function getIndex(){return this._im.get().index}},{key:"invoker",value:function invoker(){return this._im.get().invoker}},{key:"absUrl",value:function absUrl(){return this._im.get().absUrlFromModule()}},{key:"exports",value:function exports(){return this._im.get().exports}},{key:"root",value:function root(){var a=this.invoker();return a?a.invoker():this}}]);return a}();function getMineInvoker(a){if(a instanceof ThisInvoker){return a.invoker}else if(a instanceof Invoker){return a}else if(a instanceof DefineObject){return a.thiz}}function getInvoker(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:true;if(a instanceof ThisInvoker){return a.invoker}else if(a instanceof Invoker){return a}else if(a instanceof DefineObject){return a.thatInvoker}else {var c=currentDefineModuleQueue.peek();if(c){return c.thiz}else if(b){var d={module:"",src:thePageUrl$1,scriptSrc:location.href,absUrl:function absUrl(){return thePageUrl$1},name:"__root__",invoker:null};return new Invoker(d)}}}var DefineObject=function(){function a(b,c,d){var e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:[],f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:false;_classCallCheck(this,a);this.id=U.getAndIncIdCount();this.thiz=void 0;this.isRequire=void 0;this._scriptSrc=void 0;this._src=void 0;this.parentDefine=void 0;this.handle=void 0;this.selfname=void 0;this.deps=void 0;this.callback=void 0;this.thatInvoker=void 0;this._directDepLength=0;this.directDepLength=0;this.names=[];this.index=void 0;this.parentDefine=currentDefineModuleQueue.peek();this.thatInvoker=getInvoker(d);this.scriptSrc=b;this.src=c;this.thiz=d;this.isRequire=f;this.handle={onError:function onError(a){console.error(U.unwrapError(a));},before:function before(){},depBefore:function depBefore(){},orderDep:false,absoluteUrl:void 0,absUrl:void 0,instance:void 0};if(d instanceof ThisInvoker){this.src=d.invoker.src();}var g=e[0],h=e[1],i=e[2];if(1==e.length){i=g;g=null;h=null;}else if("string"!=typeof g){i=h;h=g;g=null;}if(h&&!L$9.isArray(h)){i=h;h=null;}if(!h){h=[];}else {h=L$9.clone(h);}U.appendInnerDeps(h,i);this.selfname=g;this.deps=h;this.pushName(g);this.callback=i;this._directDepLength=h.length;this.directDepLength=h.length;}_createClass(a,[{key:"pushName",value:function pushName(a){if(a&&-1==L$9.indexInArray(this.names,a)){this.names.push(a);}}},{key:"appendConfigDepsAndEmbedDeps",value:function appendConfigDepsAndEmbedDeps(a){var b=L$9.config(),c=this.src,d=this.deps,e=b.getDeps(c);U.each(e,function(a){if(-1==L$9.indexInArray(d,a)){d.push(a);}});U.each(this.names,function(a){e=b.getDeps(a);U.each(e,function(a){if(-1==L$9.indexInArray(d,a)){d.push(a);}});});if(this.handle.orderDep&&1<this._directDepLength&&d.length>this._directDepLength){var f=[true];while(0<this._directDepLength--){f.push(d.shift());}d.unshift(f);this.handle.orderDep=false;}_dealEmbedDeps(d,this);for(var g=0;g<d.length;g++){d[g];d[g]=b.replaceDepAlias(d[g]);}U.replaceModulePrefix(b,d);if(a){a.deps=d;a._dealApplyArgs=function(a,b){return function(c){if(0==a||0==c.length){return []}var d=Array(a+1);if(b){d=c[0];}else {for(var e=0;e<a;e++){d[e]=c[e];}d[a]=c[c.length-1].slice(0,a);}return d}}(this.directDepLength,0<this.directDepLength&&0>=this._directDepLength);}}},{key:"dealRelative",value:function dealRelative(a){for(var b=this.deps,c=0;c<b.length;c++){var d=b[c],e=U.isJsFile(d);if(e&&L$9.startsWith(d,".")){d=U.getPathWithRelative(a.thiz.rurl(this),e.path)+_getPluginParam(d);b[c]=d;}var f=U.graphPath.tryAddEdge(this.handle.defined_module_for_deps||a.selfname,d);if(0<f.length){var g=moduleScript.getModule(d);g.loopObject={};}}}},{key:"absUrlFromDefineObject",value:function absUrlFromDefineObject(){return this.handle.absUrl||this.handle.absoluteUrl||this.src}},{key:"src",get:function get(){return this._src},set:function set(a){this._src=a;}},{key:"scriptSrc",get:function get(){return this._scriptSrc},set:function set(a){this._scriptSrc=a;}}]);return a}(),hasCurrentPath=false;function getCurrentScript(){function a(){if(document.currentScript!==void 0){var g=document.currentScript&&document.currentScript.src&&document.currentScript;if(g){return {node:g,src:g.src}}}if(0<U.IE_VERSION&&10>=U.IE_VERSION){for(var b=document.getElementsByTagName("script"),c=b.length-1,d;0<=c;c--){d=b[c];if("interactive"===d.readyState&&d.src){return {node:d,src:d.src}}}}var f;try{var h;h.b.c();}catch(a){f=a.stack||a.sourceURL||a.stacktrace||"";if(!f&&window.opera){f=((a+"").match(/of linked script \S+/g)||[]).join(" ");}}if(f){f=f.split(/[@ ]/g).pop();f="("==f[0]?f.slice(1,-1):f;var a=f.replace(/(:\d+)?:\d+$/i,"");return {src:a}}}var b,c=currentDefineModuleQueue.peek();if(c){b={src:c.src};}else {b=a();}if(!b){b={src:thePageUrl$1};}if(U.isLoaderEnd()&&b.src==theLoaderUrl){b.src=thePageUrl$1;b.node=null;}if(!b.node&&b.src!=thePageUrl$1){for(var d=U.removeQueryHash(b.src),e=document.getElementsByTagName("script"),f=0,g;f<e.length;f++){g=e[f];if(d==U.removeQueryHash(g.src)){b.node=g;break}}}if(b.node){var h=b.node.getAttribute("_current_path_src_");b.src=h||U.getNodeAbsolutePath(b.node);}hasCurrentPath=!!L$9.__currentPath;if(hasCurrentPath){var j=b.src;b.srcBeforeCurrentPath=U.removeQueryHash(j);b.__currentPath=L$9.__currentPath;b.src=L$9.getPathWithRelative(j,L$9.__currentPath,false);b.src=L$9.appendArgs2Url(b.src,j);L$9.__currentPath=void 0;if(b.srcBeforeCurrentPath!=U.removeQueryHash(b.src)){b.node.setAttribute("_current_path_src_",b.src);}}b.scriptSrc=b.src;b.src=U.removeQueryHash(b.src);return b}function __createNode(){var a=document.createElement("script");a.type="text/javascript";a.charset="utf-8";a.async="async";return a}function __removeListener(a,b,c,d){if(a.detachEvent&&!isOpera){if(d){a.detachEvent(d,b);}}else {a.removeEventListener(c,b,false);}}function __browserLoader(a,b,c){var d=__createNode();a&&d.setAttribute(DATA_ATTR_MODULE,a);d.setAttribute(DATA_ATTR_CONTEXT,defContextName);var e=!L$9.isFunction(d.addEventListener)&&d.attachEvent&&!(d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code"))&&!isOpera;if(e){d.attachEvent("onreadystatechange",c.onScriptLoad);}else {d.addEventListener("load",c.onScriptLoad,true);var f=function(){__removeListener(d,f,"error");c.onScriptError.apply(this,arguments);};c.errListen=f;d.addEventListener("error",f,true);}appendHeadDom(d);if(0<U.IE_VERSION&&10>=U.IE_VERSION){L$9.asyncCall(function(){d.src=b;});}else {d.src=b;}}function __getScriptData(a,b){var c=a.currentTarget||a.srcElement;__removeListener(c,b.onScriptLoad,"load","onreadystatechange");__removeListener(c,b.errListen,"error");var d=c&&U.getNodeAbsolutePath(c);return {node:c,name:c&&c.getAttribute(DATA_ATTR_MODULE),src:U.removeQueryHash(d),scriptSrc:d}}function appendHeadDom(a){if(!L$9.isDOM(a)){throw new Error("expected dom object,but provided:"+a)}var b=_lastAppendHeadDom.nextSibling;theHead.insertBefore(a,b);_lastAppendHeadDom=a;}function loadScript(a,b,c,d){var e={};e.onScriptLoad=function(a){if(e.removed){return}if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){e.removed=true;var b=__getScriptData(a,e);if(isSrcFromScriptLoad){lastSrc=b.src;lastScriptSrc=b.lastScriptSrc;L$9.asyncCall(function(){c(b);});}else {if(0<U.IE_VERSION||"edge"==U.IE_VERSION){L$9.asyncCall(function(){c(b);});}else {c(b);}}}};e.onScriptError=function(a){if(e.removed){return}e.removed=true;var b=__getScriptData(a,e);d(b);};__browserLoader(a,b,e);}function doDefine(a,b,c){var d=getCurrentScript(),e=d.src,f=d.scriptSrc,g=new DefineObject(f,e,a,b,c);g.srcBeforeCurrentPath=d.srcBeforeCurrentPath;if(!isSrcFromScriptLoad){try{if(g.src){var j=document.currentScript;if(j&&j.getAttribute("src")&&j.getAttribute(DATA_ATTR_CONTEXT)!=defContextName&&g.src!=theLoaderUrl&&g.src!=thePageUrl$1){console.error("unknown js script module:"+L$9.xsJson2String(g.src));console.error(j);return}}}catch(a){L$9.config().error(a);}}var h=new Handle(g),i=U.isLoaderEnd();L$9.asyncCall(function(){if(isSrcFromScriptLoad&&i&&!hasCurrentPath){g.src=lastSrc;g.lastScriptSrc=lastScriptSrc;}hasCurrentPath=false;theRealDefine([g]);});return h}function predefine(){for(var a=[],b=0;b<arguments.length;b++){a.push(arguments[b]);}return doDefine(this,a,false)}var isFirstRequire=true;function prerequire(a,b){var c=L$9.config();if(!c){throw new Error("not config")}var d=getInvoker(this);if(1==arguments.length&&L$9.isString(a)){if("exports"==a){var e=getMineInvoker(this),f=e&&e.exports();if(!f){throw new Error("not found exports")}else {return f}}var g=a,h=a,i=void 0,j=h.indexOf("!");if(0<j){i=h.substring(j+1);h=h.substring(0,j);}h=c.replaceDepAlias(h);var u=moduleScript.getModule(h);if(!u){h=d.getUrl(h,false);u=moduleScript.getModule(h);}if(!u){throw new Error("the module '"+g+"' is not load!")}else if("defined"!=u.state){throw new Error("the module '"+g+"' is not defined:"+u.state)}var v;moduleScript.newModuleInstance(u,d,function(a){v=a.moduleObject();}).initInstance(true,i);if(v===void 0){throw Error("the module '"+g+"' is not load!")}return v}var k=L$9.randId("_require");if(L$9.isFunction(a)){b=a;a=[];}else if(!L$9.isArray(a)){throw new Error("unexpected argument:"+a)}U.appendInnerDeps(a,b);var l,m,n,o=false,p,q;if(isFirstRequire&&c.plugins.loading.enable){isFirstRequire=false;setTimeout(function(){if(!o){n=new U.ToProgress(c.plugins.loading);n.autoIncrement();if(q){n.toError(c.plugins.loading.errColor);n=null;}}},c.plugins.loading.delay);}var r=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:false;if(n){if(a){n.toError(c.plugins.loading.errColor);}else {n.stopAuto();n.finish();}n=null;}if(l!==void 0){clearTimeout(l);l=void 0;}},s=doDefine(this,[k,a,function(){o=true;r();if(L$9.isFunction(b)){try{b.apply(this,arguments);}catch(a){s.onError(a);}}}],true);s.waitTime=1e3*c.waitSeconds;s.logError=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"error";b&&console[c]("invoker.url=",b.getUrl());d&&console[c]("require.invoker.url=",d.getUrl());console[c](U.unwrapError(a));};var t=function checkResultFun(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:false;try{if(!t){return}var c=moduleScript.getModule(k);if((!c||"defined"!=c.state)&&(q||b)){if(b){s.onError("require timeout:".concat(m?"tag="+m:"",",\n")+"\tdeps=[".concat(a?a.join(","):"","]\n")+"".concat(d?"\tinvokerSrc="+d.src():""));}if(c){U.each(c.deps,function(a){if(d){a=d.getUrl(a,false);}var b=moduleScript.getModule(a);if(b&&b.printOnNotDefined){b.printOnNotDefined();}});}}}catch(a){console.error(a);}r();};s.error(function(a,b){r(true);if(p){var c=p.call(s,a,b);if(c&&c.ignoreErrState){return c}}q=!!a;try{s.logError(a,b);}catch(a){console.warn(a);}if(t){var d=t;t=null;d();}});s.error=function(a){p=a;return this};s.setTag=function(a){m=a;return this};if(s.waitTime){l=setTimeout(function(){t(true);},s.waitTime);}if("undefined"!=typeof Promise&&1==arguments.length&&!b){var w=new Promise(function(c,d){b=function(){if(1==a.length){c(arguments[0]);}else {for(var b=[],d=0;d<a.length;d++){b.push(arguments[d]);}c(b);}};s.error(function(a){b=null;d(a);});});return w}return s}var initDefine=function(a){theRealDefine=function(b,c){if(!L$9.config()){globalDefineQueue.push(b);}else {a(b,c);}};return {predefine:predefine,prerequire:prerequire}},onConfigedCallback=function(){while(globalDefineQueue.length){var a=globalDefineQueue.shift();theRealDefine(a);}};var script = {defContextName:defContextName,theLoaderScript:theLoaderScript,lastAppendHeadDom:function lastAppendHeadDom(){return _lastAppendHeadDom},theLoaderUrl:theLoaderUrl,thePageUrl:thePageUrl$1,head:function head(){return theHead},appendHeadDom:appendHeadDom,initDefine:initDefine,Handle:Handle,Invoker:Invoker,DefineObject:DefineObject,loadScript:loadScript,currentDefineModuleQueue:currentDefineModuleQueue,onConfigedCallback:onConfigedCallback,INNER_DEPS_PLUGIN:INNER_DEPS_PLUGIN,innerDepsMap:innerDepsMap};

  var L$a=U.global.xsloader;var theContext,theConfig,argsObject={};L$a.config=function(){return theConfig};L$a.script=function(){return script.theLoaderScript};L$a.lastAppendHeadDom=function(){return script.lastAppendHeadDom()};L$a.scriptSrc=function(){return script.theLoaderUrl};L$a.putUrlArgs=function(a){argsObject=L$a.extend(argsObject,a);};L$a.getUrlArgs=function(){var a=L$a.extend({},argsObject);return a};L$a.clearUrlArgs=function(){argsObject={};};L$a.appendHeadDom=script.appendHeadDom;L$a.hasDefine=function(a){var b=false,c=moduleScript.getModule(a);if(!c||c.state===void 0||"init"==c.state){b=false;}else {b=true;}return b};L$a.hasDefined=function(a){var b=false,c=moduleScript.getModule(a);if(c&&"defined"==c.state){b=true;}return b};L$a.resUrlBuilder=function(){throw new Error("resUrlBuilder not found!")};L$a.clear_module_=function(){for(var a=arguments,b=0;b<a.length;b++){if(a[b]){delete a[b]._module_;delete a[b]._modules_;}}};function _newContext(){var a={contextName:script.contextName,defQueue:[]};return a}loader.loaderFun(function(a){if(theContext){throw new Error("already configed!")}a=L$a.extend({baseUrl:U.getPathWithRelative(location.pathname,"./",L$a.endsWith(location.pathname,"/")),urlArgs:{},ignoreProperties:false,paths:{},depsPaths:{},aliasPaths:{},deps:{},jsExts:void 0,autoExt:true,autoExtSuffix:".*",properties:{},modulePrefix:{},defineFunction:{},modulePrefixCount:0,waitSeconds:20,autoUrlArgs:function autoUrlArgs(){return false},instance:"single",dealtDeps:{},dealProperties:function dealProperties(b){return U.propertiesDeal(b,a.properties)},isInUrls:function isInUrls(a){return !!this.getUrls(a)},getUrls:function getUrls(a){return this.paths[a]||this.depsPaths[a]},getDeps:function getDeps(a){var b=this.dealtDeps[a]||[],c=[],d=void 0;if(0<b.length&&(true===b[0]||false===b[0])){if(b[0]){c=[[]];d=true;}else {b.splice(0,1);}}for(var e=0;e<b.length;e++){if(true===d){c[0].push(b[e]);}else {c.push(b[e]);}}return c},dealUrl:function dealUrl(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:false,d=this.getUrlArgs(a,b,c);return L$a.appendArgs2Url(b,d)},getUrlArgs:function getUrlArgs(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:false,d,e;if(this.autoUrlArgs()){d="_t="+new Date().getTime();}else {var f,g;if(L$a.isString(a)){f=a;}else {f=a.selfname;g=a.src;}d=this.urlArgs[f];if(!d){d=this.forPrefixSuffix(f);}if(!d&&b){d=this.urlArgs[b];if(!d){d=this.forPrefixSuffix(b);}}if(!d&&g){d=this.urlArgs[g];if(!d){d=this.forPrefixSuffix(g);}}if(!d){d=this.urlArgs["*"];}}if(L$a.isFunction(d)){d=d.call(this,e);}if(!d){d="";}for(var h in argsObject){d+="&"+h+"="+encodeURIComponent(argsObject[h]);}if(c&&this.props.addVersion){d+="&_xsv="+encodeURIComponent(L$a.env.version);}return d},dealUrlArgs:function dealUrlArgs(a){a=U.getPathWithRelative(location.href,a);return this.dealUrl(a,a)},replaceDepAlias:function replaceDepAlias(a){if(!L$a.startsWith(a,".")&&this.aliasPaths[a]){a=this.aliasPaths[a];}return a},defaultVersion:{},plugins:{},props:{}},a);a.props=L$a.extend({addVersion:true,innerDepType:"auto"},a.props);a.plugins.loading=L$a.extend({enable:true,color:"#2196f3",bgColor:"rgba(0,0,0,0.1)",errColor:"#f5222d",duration:.2,height:1,delay:500},a.plugins.loading);if(L$a.domAttr(script.theLoaderScript,"disable-loading")!==void 0){a.plugins.loading.enable=false;}a.plugins.image=L$a.extend({timeout:1e4},a.plugins.image);a.plugins.xsmsg=L$a.extend({timeout:3e4,sleep:500},a.plugins.xsmsg);a.plugins.ifmsg=L$a.extend({connTimeout:3e4,sleepTimeout:20},a.plugins.ifmsg);if(!L$a.endsWith(a.baseUrl,"/")){a.baseUrl+="/";}a.baseUrl=U.getPathWithRelative(location.href,a.baseUrl);if(!a.ignoreProperties){a=a.dealProperties(a);}U.strValue2Arr(a.paths);U.strValue2Arr(a.depsPaths);U.strValue2Arr(a.deps);if(!L$a.isFunction(a.autoUrlArgs)){var n=a.autoUrlArgs;a.autoUrlArgs=function(){return n};}var b=0;for(var o in a.modulePrefix){if(L$a.startsWith(o,".")||L$a.startsWith(o,"/")){throw new Error("modulePrefix can not start with '.' or '/'("+o+")")}b++;}a.modulePrefixCount=b;if(0<b){var p=a.urlArgs["*"];delete a.urlArgs["*"];var q=[];for(var r in a.urlArgs){var k=r;if(U.isJsFile(k)){if(L$a.startsWith(k,".")||L$a.startsWith(k,"/")&&!L$a.startsWith(k,"//")){k=U.getPathWithRelative(script.theLoaderUrl,k);}else {var s=U.dealPathMayAbsolute(k);if(s.absolute){k=s.path;}else if(!L$a.startsWith(k,"*]")){k=a.baseUrl+k;}}}q.push({url:k,args:a.urlArgs[r]});}for(var t in a.modulePrefix){for(var c=a.modulePrefix[t].replace,d=0;d<q.length;d++){var e=q[d],f="";if(L$a.startsWith(e.url,"*[")){f="*[";e.url=e.url.substring(2);}if(L$a.startsWith(e.url,t)){e.url=c+e.url.substring(t.length);}f&&(e.url=f+e.url);}}a.urlArgs={};a.urlArgs["*"]=p;for(var u=0,v;u<q.length;u++){v=q[u];a.urlArgs[v.url]=v.args;}}var g=[],h=[];a._urlArgs_prefix=g;a._urlArgs_suffix=h;for(var w in a.urlArgs){var x=w;if(L$a.startsWith(x,"*[")){var y=x.substring(2);if(L$a.startsWith(y,".")||L$a.startsWith(y,"/")&&!L$a.startsWith(y,"//")){y=U.getPathWithRelative(script.theLoaderUrl,y);}else {var z=U.dealPathMayAbsolute(y);if(z.absolute){y=z.path;}else {x=a.baseUrl+x;}}g.push({strfix:y,value:a.urlArgs[w]});delete a.urlArgs[w];}else if(L$a.startsWith(x,"*]")){h.push({strfix:x.substring(2),value:a.urlArgs[w]});delete a.urlArgs[w];}}a.forPrefixSuffix=function(a){for(var b=0,c;b<g.length;b++){c=g[b];if(L$a.startsWith(a,c.strfix)){var d=void 0;if(L$a.isFunction(c.value)){d=c.value.call(this,a);}else {d=c.value;}return d}}for(var e=0,f;e<h.length;e++){f=h[e];if(L$a.endsWith(a,f.strfix)){var i=void 0;if(L$a.isFunction(f.value)){i=f.value.call(this,a);}else {i=f.value;}return i}}};for(var A in a.paths){U.replaceModulePrefix(a,a.paths[A]);}for(var B in a.depsPaths){U.replaceModulePrefix(a,a.depsPaths[B]);}var j=a.dealtDeps,l=function(a,b){U.each(b,function(b){a.push(b);});},m=function(b){var c=b.split("::"),d=a.deps[b];U.each(c,function(b){if("*"==b){for(var c in a.depsPaths){var e=j[c]=j[c]||[];l(e,d);}}else {var f=j[b]=j[b]||[];l(f,d);}});};for(var C in a.deps){m(C);}theConfig=a;theContext=_newContext();script.onConfigedCallback();return theConfig});

  var G$6=U.global,L$b=G$6.xsloader,defineHandle=script.initDefine(function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(){};U.each(a,function(a){if(L$b.isFunction(a.callback)){var c=a.callback;a.callback=function(){var b=L$b.config(),d,e;U.each(a.names,function(a){var c=b.defineFunction[a];if(L$b.isFunction(c)){e=c;return false}});if(e){for(var f=[],g=0;g<arguments.length;g++){f.push(arguments[g]);}d=e.apply(this,[c,this,f]);}else {d=c.apply(this,arguments);}c=null;return d};}onModuleLoaded(a,moduleScript.getLastDefineObject(a.src));b();});});function onModuleLoaded(a,b){moduleScript.appendLoadingModuleDeps(a);var c=moduleScript.getModule(a.src,a.selfname),d;if(!c&&a.srcBeforeCurrentPath){d=moduleScript.getModule(a.srcBeforeCurrentPath);}if(c){if("loading"==c.state){c.reinitByDefineObject(a);}}else {c=moduleScript.newModule(a);d&&d.toOtherModule(c);}if(a.selfname!=a.src){a.pushName(a.selfname);}if(c.selfname!=a.src){a.pushName(c.selfname);}U.each(a.names,function(a){moduleScript.setModule(a,c);if(L$b.ignoreAspect_[a]){c.ignoreAspect=true;}});a.appendConfigDepsAndEmbedDeps(c);var e=c;if(a.handle.before){a.handle.before(e.deps);}if(b&&b.handle.depBefore){b.handle.depBefore(b.index,e.selfname,e.deps,2);}e.setState("loaded");e.setInstanceType(a.handle.instance||L$b.config().instance);if(0==e.deps.length){try{e.finish([]);}catch(b){a.handle.onError(b);}}else {var f=function(){moduleScript.everyRequired(a,e,function(b){var c=[],d=[];U.each(b,function(a){d.push(a);c.push(a&&a.moduleObject());});c.push(d);try{e.finish(c);}catch(b){a.handle.onError(b);}},function(b,c){return a.handle.onError(b,c)});};if(a.isRequire){f();}else {e.whenNeed(f);}}}var define=function(){return defineHandle.predefine.apply(this,arguments)},require=function(){return defineHandle.prerequire.apply(this,arguments)};require.get=function(a){if(!L$b.isString(a)){throw new Error("expected string type for module name")}else {return require.call(this,a)}};require.has=function(){var a=arguments;if(0==a.length){return false}for(var b=0,c;b<a.length;b++){c=moduleScript.getModule(a[b]);if(!c||"defined"!=c.state){return false}}return true};L$b.define=define;L$b.defineAsync=define;L$b.require=require;G$6.define=define;G$6.require=require;define.amd=true;define("exports",function(){});

  var L$c=U.global.xsloader,G$7=U.global,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];function httpRequest(a){if(!a){a={};}function b(a,b,c){if(a[b]===void 0){return c}else {return a[b]}}function c(a,b,c){if(a[b]){for(var d in a[b]){var e=a[b][d];if(null===e||e===void 0){continue}c[d]=e;}}}var i=b(a,"url",""),j=b(a,"method","GET"),k={},l={"X-Requested-With":"XMLHttpRequest"},m=b(a,"async",true),n=b(a,"multiPart",false),o=b(a,"handleType","json"),p=a.timeout;c(a,"params",k);c(a,"headers",l);var q=a.ok,r=a.fail,s=a.uploadStart,t=a.uploadProgress,u=a.uploadOk,v=a.uploadError,w=a.uploadEnd,x=a._beforeOpenHook||httpRequest._beforeOpenHook,y=a._onOkResponseHook||httpRequest._onOkResponseHook,z=a._onFailResponseHook||httpRequest._onFailResponseHook;function d(){var a,b,c;if("undefined"!=typeof XMLHttpRequest){return new XMLHttpRequest}else if("undefined"!=typeof ActiveXObject){for(b=0;3>b;b+=1){c=progIds[b];try{a=new ActiveXObject(c);}catch(a){console.warn(a);}if(a){progIds=[c];break}}}return a}function e(){f(d());}function f(a){var b={url:i,method:j.toUpperCase(),params:k,headers:l,handleType:o,async:m,multiPart:n,timeout:p};x(b,function(){h(b,a);},a);}function g(a,b,c,d){z(a,function(a){if(false!==a&&a!==void 0){if("function"==typeof q){q(a,b);}}else if("function"==typeof r){r(c);}else {console.error(c);}},b,d);}function h(a,b){var c;if(a.multiPart){var f=new FormData;for(var h in a.params){var i=a.params[h];if(null===i||i===void 0){i="";}if(L$c.isArray(i)){f.append(h,L$c.xsJson2String(i));}else {if(G$7.File&&i instanceof G$7.File||G$7.Blob&&i instanceof G$7.Blob){f.append(h,i);}else if(L$c.isObject(i)){f.append(h,L$c.xsJson2String(i));}else {f.append(h,i);}}}c=f;}else {c="";for(var j in a.params){var k=a.params[j];if(null===k||k===void 0){k="";}if(L$c.isArray(k)||L$c.isObject(k)){k=L$c.xsJson2String(k);}c+="&"+encodeURIComponent(j)+"="+encodeURIComponent(k);}if(!("POST"==a.method||"PUT"==a.method)){if(0>a.url.lastIndexOf("?")&&0<c.length){a.url+="?";}a.url+=c;a.url=a.url.replace("?&","?");c=null;}}b.open(a.method,a.url,a.async);if(("POST"==a.method||"PUT"==a.method)&&!a.multiPart&&a.headers["Content-Type"]===void 0){b.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8");}for(var l in a.headers){b.setRequestHeader(l,a.headers[l]);}if("function"==typeof s){b.upload.onloadstart=s;}if("function"==typeof t){b.upload.onprogress=t;}if("function"==typeof u){b.upload.onload=u;}if("function"==typeof v){b.upload.onerror=v;}if("function"==typeof w){b.upload.onloadend=w;}var d,e=false;if(a.timeout){d=setTimeout(function(){e=true;b.abort();clearTimeout(d);},a.timeout);}b.onreadystatechange=function(){var c;if(4===b.readyState){c=b.status||0;if(399<c&&600>c||!c){var f=new Error(a.url+" HTTP status: "+c);f.xhr=b;g(a,b,f);}else {var h;if("json"===a.handleType){try{h=L$c.xsParseJson(b.responseText);}catch(c){g(a,b,new Error("parse-json-error:"+c),"parse-json-error");return}}else if("text"===a.handleType){h=b.responseText;}y(h,a,function(a){if("function"==typeof q){q(a,b);}},b);}}else {if(d&&e){var i=new Error(a.url+" timeout status: "+c);i.xhr=b;g(a,b,i);}}};b.send(c);}return {multiPart:function multiPart(a){n=a;return this},uploadStart:function uploadStart(a){s=a;return this},uploadProgress:function uploadProgress(a){t=a;return this},uploadOk:function uploadOk(a){u=a;return this},uploadError:function uploadError(a){v=a;return this},uploadEnd:function uploadEnd(a){w=a;return this},url:function url(a){i=a;return this},method:function method(a){j=a;return this},timeout:function timeout(a){p=a;return this},async:function async(a){m=a;return this},params:function params(a){if(a){for(var b in a){var c=a[b];if(null===c||c===void 0){continue}k[b]=c;}}return this},headers:function headers(a){if(a){for(var b in a){l[b]=a[b];}}return this},handleType:function handleType(a){return this.handleAs(a)},handleAs:function handleAs(a){if("json"!==a&&"text"!==a){throw "unknown handleType:"+a}o=a;return this},ok:function ok(a){q=a;return this},fail:function fail(a){r=a;return this},_beforeOpenHook:function _beforeOpenHook(a){x=a;return this},_onOkResponseHook:function _onOkResponseHook(a){y=a;return this},_onFailResponseHook:function _onFailResponseHook(a){z=a;return this},done:function done(){try{e();}catch(a){if("function"==typeof r){r(a);}else {console.error(a);}}}}}httpRequest._beforeOpenHook=function(a,b){b();};httpRequest._onOkResponseHook=function(a,b,c){c(a);};httpRequest._onFailResponseHook=function(a,b){b(void 0);};window._xshttp_request_=httpRequest;L$c.define("xshttp",[],function(){return httpRequest});

  var L$d=U.global.xsloader;L$d.define("request",["xshttp"],function(a){return function Request(b){b=L$d.extend({params:void 0,headers:void 0,method:void 0,url:void 0,callback:void 0},b);b.async=true;var c=new Promise(function(c,d){b.ok=function(a){c(a);};b.fail=function(a){d(a);};a(b).done();});return c}});

  var L$e=U.global.xsloader;try{var isDebug=function(){return isXsMsgDebug},LinkedList=function(){function a(a){return {element:a,next:null,pre:null}}var c=0,d=a(),e=d;this.append=function(b){var d=a(b);e.next=d;d.pre=e;e=d;c++;};this.insert=function(b,e){if(0<=b&&b<=c){var f=a(e),g=d;while(b--){g=g.next;}if(g.next){g.next.pre=f;f.next=g.next;}g.next=f;f.pre=g;c++;return true}else {return false}};this.elementAt=function(a){return b(a)};function b(a,b){if(0<=a&&a<c){var f=d;while(a--){f=f.next;}if(f.next){var g=f.next;if(b){var h=g.next;if(h){h.pre=f;f.next=h;}else {f.next=null;e=f;}c--;}return g.element}else {}}else {}}this.eachForRemove=function(a){var b=d.next;while(b){var f=b;if(a(f)){var g=f.next;if(g){g.pre=b;b.next=g;}else {b.next=null;e=b;}c--;b=g;}else {b=b.next;}}};this.removeAt=function(a){return b(a,true)};this.pop=function(){return this.removeAt(0)};this.indexOf=function(a){var b=d.next,c=0;while(b){if("function"==typeof a){if(a(b.element)){return c}}else if(b.element===a){return c}c++;b=b.next;}return -1};this.find=function(a){var b=this.indexOf(a);return 0<=b?this.elementAt(b):void 0};this.remove=function(a){var b=this.indexOf(a);return this.removeAt(b)};this.isEmpty=function(){return 0===c};this.size=function(){return c};},isXsMsgDebug=false,api={};api.linkedList=function(){return new LinkedList};if(window.addEventListener){var initPostMessageBridge=function(){if(postMessageBridge){return}var i={},j={},k={},l={},m={};i.listen=function(a,b,c,d,e,f,g,h,i){var l={cmd:a,_onConned:f,_onMsg:g,_onResponse:h,_onElse:i,conndata:b,osource:d,active:e,connectingSource:c,id:L$e.randId(),refused:{}};if(!k[a]){k[a]=[];}k[a].push(l);var m=l.id;j[m]=l;return m};i.remove=function(){};i.send=function(a,b,c){var d=j[b];h("msg",d.cmd,d.osource,a,b,c);};i.sendConn=function(a){var b=j[a];h("conn",b.cmd,b.osource,b.conndata,a);};i.sendResponse=function(a,b){var c=j[b];h("response",c.cmd,c.osource,a,b);};function a(a,b,c,d,e){if(m[e]){return}var g=k[a];if(!g){return}function f(d){return function(f){if(!f){var g=j[d];g.refused[e]=true;return}if(m[e]){console.warn("already bind other:"+a+",my page:"+location.href);}else if(l[d]){console.warn("already self bind:"+a+",my page:"+location.href);h("binded",a,b,e);}else {m[e]=d;l[d]=true;var i=j[d];i.osource=b;i.origin=c;h("accept",a,b,i.conndata,d,e);}}}for(var n=0,i;n<g.length;n++){i=g[n];if(!i.refused[e]){i.connectingSource(b,c,d,f(i.id));}}}function b(a,b,c,d,e,f){var n=k[a];if(!n){return}function g(f){return function(g){if(!g){var i=j[f];i.refused[e]=true;return}if(m[e]){console.warn("already bind:"+a+",my page:"+location.href);}else if(l[f]){console.warn("already self bind:"+a+",my page:"+location.href);h("binded",a,b,e);}else {m[e]=f;l[f]=true;var k=j[f];k.osource=b;k.origin=c;h("conned",a,b,k.conndata,f);k._onConned(b,d);}}}for(var o=0,i;o<n.length;o++){i=n[o];if(i.id==f&&!i.refused[e]){i.connectingSource(b,c,d,g(i.id));}}}function c(a,b,c,d){var e=j[d];e._onElse("binded");}function d(a,b,c){if(a.osource!=b&&a.origin!=c){console.warn("expected:"+a.origin+",but:"+c);throw new Error("source changed!")}}function e(a,b,c,e,f){var g=m[f],h=j[g];d(h,b,c);h._onConned(h.osource,e);}function f(a,b,c,e,f,g){var h=m[f],i=j[h];d(i,b,c);i._onMsg(e,g);}function g(a,b,c,e,f){var g=m[f],h=j[g];d(h,b,c);h._onResponse(e);}function h(a,b,c,d,e,f){var g={type:a,data:d,cmd:b,id:e,msgid:f};if(isDebug("postMessageBridge")){console.log("send from:"+location.href);console.log(g);}c.postMessage(L$e.xsJson2String(g),"*");}window.addEventListener("message",function(d){if(d.data&&"string"==typeof d.data&&"{"==d.data.substring(0,1)){if(isDebug("postMessageBridge")){console.log("receive from:"+d.origin+",my page:"+location.href);console.log(d.data);}var m;try{m=L$e.xsParseJson(d.data);}catch(a){console.warn("error data:",d.data);console.warn(a);}if(!m||!(m.cmd&&m.type)){return}try{var h=m.cmd,i=m.id,j=m.data,k=m.type,l=m.msgid;if("conn"==k){a(h,d.source,d.origin,j,i);}else if("accept"==k){b(h,d.source,d.origin,j,i,l);}else if("conned"==k){e(h,d.source,d.origin,j,i);}else if("msg"==k){f(h,d.source,d.origin,j,i,l);}else if("response"==k){g(h,d.source,d.origin,j,i);}else if("binded"==k){c(h,d.source,d.origin,j);}}catch(a){console.error(a);}}});i.runAfter=function(a,b){setTimeout(b,a);};postMessageBridge=i;},CommunicationUnit=function(a,b,c,d,e,f,g,h){initPostMessageBridge();var s=new LinkedList,t=h,u,v=false,w=false,x=false,y=this,z;this.onConnectedListener=null;this.onReceiveListener=null;this.send=function(a){var b={id:L$e.randId(),data:a};s.append(b);o();};this.send.release=function(){postMessageBridge.remove(z);};function i(){return !v&&!x}function j(a,b){if(i()){y.onConnectedListener.call(y,b);w=true;o();}}function k(a,b){if(i()){try{y.onReceiveListener.call(y,a);}catch(a){console.warn(a);}postMessageBridge.sendResponse({id:b},z);}}function l(a){s.remove(function(b){return b.id=a.id});i()&&o();}function m(b){if("binded"==b){x=true;console.error("connect failed,that page already binded:"+a+",my page:"+location.href);d("canceled");}}function n(){z=postMessageBridge.listen(a,f,c,b,e,j,k,l,m);}function o(){if(w){var a;while(a=s.pop()){postMessageBridge.send(a.data,z,a.id);}}}function p(){var a=new Date().getTime()-u;return a>g}function q(){if(w||p()||x){if(!w&&!x){v=true;d("timeout:connect");}return}postMessageBridge.sendConn(z);postMessageBridge.runAfter(t,q);}function r(){if(w||p()||x){if(!w&&!x){v=true;d("timeout:wait connect");}return}postMessageBridge.runAfter(t,r);}{u=new Date().getTime();if(b){n();q();}else if(!e){n();r();}}this.setSource=function(a){b=a;if(b){n();q();}};},_connectWindow=function(a,b,c){var d=L$e.config().plugins.xsmsg;b=L$e.extendDeep({cmd:"default-cmd",listener:null,connected:null,conndata:null,timeout:d.timeout,sleep:d.sleep,connectingSource:function(a,b,c,d){var e=location.protocol+"//"+location.host;d(e==b,"default");},onfailed:function(a){if(0==a.indexOf("timeout:")){console.warn("connect may timeout:cmd="+b.cmd+" ,err='"+a+"' ,my page="+location.href);}}},b);var e=b.cmd,f=b.connected,g=b.listener,h=b.conndata,i=b.onfailed,j=b.timeout,k=b.sleep,l=!c,m=b.connectingSource,n;if("function"==typeof a){n=new CommunicationUnit(e,null,m,i,l,h,j,k);}else {n=new CommunicationUnit(e,a,m,i,l,h,j,k);}f=f||function(){console.log((l?"active":"")+" connected:"+e);};if(f){n.onConnectedListener=function(a){try{f(this.send,a);}catch(a){console.error(a);}};}if(g){n.onReceiveListener=function(a){try{g(a,this.send);}catch(a){console.error(a);}};}if("function"==typeof a){a(function(a){n.setSource(a);});}return n.send},_connectIFrame=function(a,b){var c;if("string"==typeof a){a=document.getElementById(a);c=function(b){a.onload=function(){b(this.contentWindow);};};}else {c=a.contentWindow;}return _connectWindow(c,b)},postMessageBridge,handleApi=api;handleApi.connectIFrame=function(a,b){return _connectIFrame(a,b)};handleApi.connectParent=function(a){return _connectWindow(window.parent,a)};handleApi.connectTop=function(a){return _connectWindow(window.top,a)};handleApi.connectOpener=function(a){return _connectWindow(window.opener,a)};handleApi.listenMessage=function(a){return _connectWindow(null,a,true)};handleApi.debug=function(a){isXsMsgDebug=a;};L$e.define("xsmsg",handleApi);}L$e.define("XsLinkedList",function(){return LinkedList});}catch(a){console.error(a);}

  var L$f=U.global.xsloader;L$f.define("xsloader4j-server-bridge",[],function(){var b=new L$f.Base64,c=false;function __renderJsx(a){return function(b,c){if(!a||!a.$createElement){var g=L$f.require.get("vue");a=new g;}var d=a.$createElement;if(!d){throw new Error("not found function '$createElement'")}for(var e=[],f=2;f<arguments.length;f++){e.push(arguments[f]);}return d(b,c,e)}}function a(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:false;if(c||!a&&!L$f.hasDefined("vue")){return}var b=L$f.require.get("vue");b.component("jsx",{props:{x:{required:false}},render:function render(a){var b=this.$listeners,c=this.$attrs;delete c.x;var d={on:b,attrs:c},e=this.x;if(!L$f.isEmpty(e)){if(L$f.isFunction(e)){e=e();}if(L$f.isObject(e)){var f=e.data||(e.data={});for(var g in d){f[g]=L$f.extend({},f[g],d[g]);}}if(!L$f.isObject(e)){var h=L$f.isString(e)?e:JSON.stringify(e);e=a("span",{class:"jsx-text",domProps:{innerText:h}});}return e}}});c=true;}return {getDefine:function getDefine(b){a();return b.define},getRequire:function getRequire(a){return a.require},getInvoker:function getInvoker(a){return a.invoker()},renderJsx:function renderJsx(b){try{a(true);}catch(a){console.error("jsx need vue!");throw a}return __renderJsx(b)},getVueCompiler:function getVueCompiler(b){return function rt(c){try{a(true);}catch(a){console.error("jsx need vue!");throw a}var d=L$f.require.get("vue"),e=c["default"]||c;if(e.template){var f=function(a,c,d,e,f){f=f||function(a,b){return b};var g="";while(true){var h=a.exec(d);if(!h){g+=d;break}else {var i=h[c].trim();g+=d.substring(0,h.index);if(L$f.startsWith(i,"url(")){g+=h[0];}else {g+=f(h,b.getUrl(i,e));}d=d.substring(h.index+h[0].length);}}return g};e.template=f(/(^|\s)(src|href)\s*=\s*('|")([^'"\(\)]+)('|")/,4,e.template,false,function(a,b){return a[2]+"="+a[3]+b+a[5]});e.template=f(/(^|\s)url\(([^\(\)]+)\)/,2,e.template,true);var g;try{if(false){console.log("compile vue template content,url=",b.getUrl());}g=d.compile(e.template);}catch(a){console.error("url=",b.getUrl());throw a}e.render=g.render;e.staticRenderFns=g.staticRenderFns;}delete e.template;}},getVtemplate:function getVtemplate(a){return function vtemplate(b){return function(c,d){a.invoker();a.require([b],function(a){c(a);}).error(function(a){d(a.err);});}}},getImporter:function getImporter(a){var b=this.getVtemplate(a);return function(a){return new Promise(b(a))}},getStyleBuilder:function getStyleBuilder(){return function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";if(a){var c=L$f.randId()+"_"+b,d=0,e=document.createElement("style");e.setAttribute("id",c);e.setAttribute("type","text/css");e.innerHTML=a;return {init:function init(){if(0>=d){L$f.appendHeadDom(e);}d++;return {destroy:function destroy(){if(0>=--d){var a=document.getElementById(c);if(a){a.parentNode.removeChild(a);}}}}}}}}},decodeBase64:function decodeBase64(a){if(a){return b.decode(a)}}}});

  var L$g=U.global.xsloader,CONNS_MAP={},DEBUG_OPTION={logMessage:false},Debug=function(){function a(){_classCallCheck(this,a);}_createClass(a,[{key:"logMessage",set:function set(a){DEBUG_OPTION.logMessage=!!a;},get:function get(){return DEBUG_OPTION.logMessage}}]);return a}();function currentTimemillis(){return new Date().getTime()}function runAfter(a,b){return setTimeout(b,a)}function clearRunAfter(a){clearTimeout(a);}var timer=null;function destroyTimer(){if(timer){clearInterval(timer);timer=null;}}function startTimer(){destroyTimer();timer=setInterval(function(){for(var a in CONNS_MAP){var b=CONNS_MAP[a];for(var c in b.clients){b.clients[c].checkHeart();}for(var d in b.selfclients){b.selfclients[d].checkHeart();}}},1e3*parseInt(5+10*Math.random()));}function doSendMessage(a,b,c){c=_objectSpread2(_objectSpread2({isserver:!!a},c),{},{__ifmsg:true});try{b.postMessage(c,"*");}catch(a){console.error(a);console.error(c);}}function checkSource(a,b){if(a&&a.source.get()!=b){console.error("source error:",a.source.get(),b);throw new Error("source error:not match")}}var MESSAGE_LISTENER=function(a){var b=a.data,c=a.source,d=a.origin;if(L$g.isObject(b)&&true===b.__ifmsg){var e=b.cmd,f=b.fromid,g=b.toid,h=b.mdata,i=b.type,j=b.err,k=b.isserver;if(DEBUG_OPTION.logMessage){console.log(location.href," receive:");console.log(b);}var l=CONNS_MAP[e];if(!l){if("ignore"!=i){doSendMessage(!k,c,{cmd:e,type:"ignore",toid:f,data:b});}}else {if("connecting"==i){if(!l.server){doSendMessage(!k,c,{cmd:e,type:"connecting-fail",toid:f,err:"not a server,cmd=${cmd}"});}else {if(l.clients[f]){if(currentTimemillis()-l.clients[f]._createTime>10000){doSendMessage(!k,c,{cmd:e,type:"connecting-fail:duplicate",toid:f,err:"duplicate fromid[".concat(f,"],cmd=").concat(e)});}}else {var m=new Client(e,c,d,f);m._conntimeout=l.server._connTimeout;m._sleeptimeout=l.server._sleepTimeout;doSendMessage(!k,c,{cmd:e,type:"connect",fromid:l.server.id,toid:f});l.server.onConnect(m,h);}}}else if("connecting-fail:duplicate"==i){console.warn(j);}else if("connecting-fail"==i){var n=l.selfclients[g];checkSource(n,c);if(n){n.gotConnectingFail(j);}else {console.warn(j);}}else if("connect"==i){var o=l.selfclients[g];checkSource(o,c);if(!o){doSendMessage(!k,c,{cmd:e,type:"connect-fail",toid:f,fromid:g,err:"client not found:clientid=".concat(g)});}}else if("connect-fail"==i){console.warn(j);}else if("connected"==i){var p;if(k){p=l.selfclients[g];}else {p=l.clients[f];}checkSource(p,c);if(p){if(k){p.gotConnect(f,c,d,h);}}}else if("message"==i){var q;if(k){q=l.selfclients[g];}else {q=l.clients[f];}checkSource(q,c);if(q){if(k){q.gotMessage(h);}else {q.gotMessage(h);}}}else if("close"==i){var r;if(k){r=l.selfclients[g];}else {r=l.clients[f];}checkSource(r,c);if(r){r.close();}}else if("closed"==i){var s;if(k){s=l.selfclients[g];}else {s=l.clients[f];}checkSource(s,c);if(s){s.close(false);}}else if("heart"==i){var t;if(k){t=l.selfclients[g];}else {t=l.clients[f];}checkSource(t,c);if(t){t.gotHeart();doSendMessage(!k,c,{cmd:e,type:"rheart",toid:f,fromid:g});}}else if("rheart"==i){var u;if(k){u=l.selfclients[g];}else {u=l.clients[f];}checkSource(u,c);if(u){u.gotHeart();}}}}},Callback=function(){function a(b,c){_classCallCheck(this,a);this.thiz=void 0;this.callback=void 0;this.thiz=b;this.callback=c;}_createClass(a,[{key:"invoke",value:function invoke(a){this.callback.apply(this.thiz,a);}}]);return a}();Callback.call=function(a,b){if(b){for(var c=[],d=2;d<arguments.length;d++){c.push(arguments[d]);}if(b instanceof Callback){b.invoke(c);}else {b.apply(a,c);}}};var Base=function(){function a(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"default";_classCallCheck(this,a);this._cmd=void 0;this._id=void 0;this._cmd=b;this._id=L$g.randId();}_createClass(a,[{key:"closeBase",value:function closeBase(){var a=CONNS_MAP[this.cmd];if(a){if(!a.server&&U.isEmptyObject(a.clients)&&U.isEmptyObject(a.selfclients)){delete CONNS_MAP[this.cmd];if(U.isEmptyObject(CONNS_MAP)){window.removeEventListener("message",MESSAGE_LISTENER);destroyTimer();}}}}},{key:"cmd",get:function get(){return this._cmd}},{key:"id",get:function get(){return this._id}}]);return a}(),Client=function(a){_inherits(b,a);var c=_createSuper(b);function b(a,d,e,f){var g,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:false;_classCallCheck(this,b);g=c.call(this,a);g._source=void 0;g._origin=void 0;g._fromid=void 0;g._connect=void 0;g._connected=false;g._destroyed=false;g._onConnect=void 0;g._onConnectFail=void 0;g._isself=void 0;g._conntimeout=void 0;g._sleeptimeout=void 0;g._rtimer=void 0;g._starttime=void 0;g._failed=void 0;g._heartTimeout=30000;g._heartTime=10000;g._lastSendHeartTime=0;g._lastReceiveHeartTime=0;g._onHeartTimeout=void 0;g._onClosed=void 0;g._onMessage=void 0;g._onConnected=void 0;g._createTime=currentTimemillis();g._source=new L$g.InVar(d);g._origin=e;g._fromid=f;g._isself=h;return g}_createClass(b,[{key:"isTimeout",value:function isTimeout(){var a=currentTimemillis()-this._starttime;return a>this._conntimeout}},{key:"connect",value:function connect(a){var b=this;if(!this.isself){throw new Error("not allowed for server client!")}else if(this.connected);else if(this.destroyed){throw new Error("destroyed!")}else if(!this.source.get()){throw new Error("no source!")}else {if(!this._starttime||this._failed){this._failed=false;this._starttime=currentTimemillis();this._connect=false;}else if(this._connect){return}if(U.isEmptyObject(CONNS_MAP)){window.addEventListener("message",MESSAGE_LISTENER);startTimer();}var c={cmd:this.cmd,type:"connecting",fromid:this.id,mdata:a};if(!CONNS_MAP[this.cmd]){CONNS_MAP[this.cmd]={server:null,clients:{},selfclients:{}};}CONNS_MAP[this.cmd].selfclients[this.id]=this;doSendMessage(false,this.source.get(),c);this._rtimer=runAfter(this._sleeptimeout,function(){if(b.connected||b._failed||b._connect||b._destroyed);else if(b.isTimeout()){if(!b.connected){b._failed=true;Callback.call(b,b._onConnectFail,{cmd:b.cmd,type:"timeout:connecting"});}}else {b.connect(a);}});}}},{key:"checkHeart",value:function checkHeart(){if(this.connected&&!this._destroyed){var a=currentTimemillis();if(a-this._lastReceiveHeartTime>this._heartTimeout){try{Callback.call(this,this._onHeartTimeout);}finally{this.close();}}else if(a-this._lastSendHeartTime>this._heartTime){this._lastSendHeartTime=a;doSendMessage(!this.isself,this.source.get(),{cmd:this.cmd,type:"heart",fromid:this.id,toid:this.fromid});}}}},{key:"gotHeart",value:function gotHeart(){this._lastReceiveHeartTime=currentTimemillis();}},{key:"checkClientConnected",value:function checkClientConnected(a){var b=this;if(!this._connected&&!this._destroyed&&!this._failed){if(!this._starttime){this._starttime=currentTimemillis();this._connect=true;}if(this.isTimeout()){try{Callback.call(this,a._onConnectTimeout,this);}finally{this.close();}}else {this._rtimer=runAfter(this._sleeptimeout,function(){b.checkClientConnected(a);});}}}},{key:"gotConnectingFail",value:function gotConnectingFail(a){this._failed=true;Callback.call(this,this._onConnectFail,{cmd:this.cmd,type:"fail:connecting",err:a});}},{key:"gotConnect",value:function gotConnect(a,b,c,d){var e=this;this._fromid=a;if(!this._connect&&!this._connected&&!this._destroyed&&!this._failed){this._connect=true;var f=this._onConnect||function(a,b,c,d){var e=location.protocol+"//"+location.host;d(e==b,null);},g=function(a,b){if(a){e.gotConnected();doSendMessage(false,e.source.get(),{cmd:e.cmd,type:"connected",fromid:e.id,toid:e.fromid});var c=e._onConnected;Callback.call(e,c);}else {doSendMessage(false,e.source.get(),{cmd:e.cmd,type:"connected-fail",err:b,fromid:e.id,toid:e.fromid});}};Callback.call(this,f,b,c,d,g);}}},{key:"gotConnected",value:function gotConnected(){clearRunAfter(this._rtimer);this._rtimer=null;var a=currentTimemillis();this._lastSendHeartTime=a;this._lastReceiveHeartTime=a;this._connected=true;}},{key:"gotMessage",value:function gotMessage(a){Callback.call(this,this._onMessage,a);}},{key:"close",value:function close(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:true;try{var b=CONNS_MAP[this.cmd];if(b){if(this.isself){if(b.selfclients){delete b.selfclients[this.id];}}else {if(b.clients){delete b.clients[this.fromid];}}}if(this._rtimer){clearRunAfter(this._rtimer);this._rtimer=null;}this._connected=false;this._destroyed=true;this.closeBase();if(a&&this.source.get()){doSendMessage(!this.isself,this.source.get(),{cmd:this.cmd,type:"closed",fromid:this.id,toid:this.fromid});}}finally{Callback.call(this,this._onClosed);}}},{key:"sendMessage",value:function sendMessage(a){if(this.destroyed){throw new Error("destroyed!")}else if(this.connected){doSendMessage(!this.isself,this.source.get(),{cmd:this.cmd,type:"message",mdata:a,fromid:this.id,toid:this.fromid});}else {throw new Error("not connected!")}}},{key:"source",get:function get(){return this._source},set:function set(a){if(this._source.get()){throw new Error("already exists source:id=".concat(this.id))}this._source.set(a);}},{key:"isself",get:function get(){return this._isself}},{key:"origin",get:function get(){return this._origin}},{key:"fromid",get:function get(){return this._fromid}},{key:"connected",get:function get(){return this._connected}},{key:"destroyed",get:function get(){return this._destroyed}},{key:"onHeartTimeout",set:function set(a){this._onHeartTimeout=a?new Callback(this,a):null;},get:function get(){return this._onHeartTimeout&&this._onHeartTimeout.callback}},{key:"onClosed",set:function set(a){this._onClosed=a?new Callback(this,a):null;},get:function get(){return this._onClosed&&this._onClosed.callback}},{key:"onMessage",set:function set(a){this._onMessage=a?new Callback(this,a):null;},get:function get(){return this._onMessage&&this._onMessage.callback}}]);return b}(Base),_singleMode=_classPrivateFieldLooseKey("singleMode"),_singleClient=_classPrivateFieldLooseKey("singleClient"),Server=function(a){_inherits(b,a);var c=_createSuper(b);function b(a,d){var e;_classCallCheck(this,b);e=c.call(this,a);e._start=void 0;e._destroyed=false;e._onConnect=void 0;e._onConnectTimeout=void 0;e._onConnected=void 0;e._conntimeout=void 0;e._sleeptimeout=void 0;Object.defineProperty(_assertThisInitialized(e),_singleMode,{writable:true,value:void 0});Object.defineProperty(_assertThisInitialized(e),_singleClient,{writable:true,value:void 0});_classPrivateFieldLooseBase(_assertThisInitialized(e),_singleMode)[_singleMode]=d;e._id=L$g.randId();e.onConnectTimeout=function(a){console.warn("client connect timeout:",a);};return e}_createClass(b,[{key:"onConnect",value:function onConnect(a,b){var c=this,d=CONNS_MAP[this.cmd];d.clients[a.fromid]=a;var e=this._onConnect||function(a,b,c){var d=location.protocol+"//"+location.host;c(d==a.origin,null);};Callback.call(this,e,a,b,function callback(b,d){if(b){a.gotConnected();doSendMessage(true,a.source.get(),{cmd:c.cmd,type:"connected",mdata:d,fromid:c.id,toid:a.fromid});if(_classPrivateFieldLooseBase(c,_singleMode)[_singleMode]&&_classPrivateFieldLooseBase(c,_singleClient)[_singleClient]){_classPrivateFieldLooseBase(c,_singleClient)[_singleClient].close();_classPrivateFieldLooseBase(c,_singleClient)[_singleClient]=null;}var e=c._onConnected||function(){if(_classPrivateFieldLooseBase(c,_singleMode)[_singleMode]){_classPrivateFieldLooseBase(c,_singleClient)[_singleClient]=null;}a.close(false);doSendMessage(true,a.source.get(),{cmd:c.cmd,type:"close",mdata:"not exists connected handle",fromid:c.id,toid:a.fromid});};if(_classPrivateFieldLooseBase(c,_singleMode)[_singleMode]){_classPrivateFieldLooseBase(c,_singleClient)[_singleClient]=a;}Callback.call(c,e,a);a.checkClientConnected(c);}else {a.close(false);doSendMessage(true,a.source.get(),{cmd:c.cmd,type:"connected-fail",err:d,fromid:c.id,toid:a.fromid});}});}},{key:"close",value:function close(){if(this._destroyed){throw new Error("already destroyed!")}else {var a=CONNS_MAP[this.cmd];if(!a.server||a.server!=this){throw new Error("server cmd not match:cmd=".concat(this.cmd))}else {this._destroyed=true;this._start=false;for(var b in a.clients){try{var c=a.clients[b];c.close();}catch(a){console.error(a);}}a.clients={};a.server=null;_classPrivateFieldLooseBase(this,_singleClient)[_singleClient]=null;this.closeBase();}}}},{key:"listen",value:function listen(){if(CONNS_MAP[this.cmd]){throw new Error("already listened:cmd=".concat(this.cmd))}else {if(U.isEmptyObject(CONNS_MAP)){window.addEventListener("message",MESSAGE_LISTENER);startTimer();}if(!CONNS_MAP[this.cmd]){CONNS_MAP[this.cmd]={server:null,clients:{},selfclients:{}};}CONNS_MAP[this.cmd].server=this;this._start=true;}}},{key:"isSingle",get:function get(){return _classPrivateFieldLooseBase(this,_singleMode)[_singleMode]}},{key:"client",get:function get(){if(!_classPrivateFieldLooseBase(this,_singleMode)[_singleMode]){throw new Error("not single mode")}else {return _classPrivateFieldLooseBase(this,_singleClient)[_singleClient]}}}]);return b}(Base),_server=_classPrivateFieldLooseKey("server"),IfmsgServer=function(){function a(b,c){_classCallCheck(this,a);Object.defineProperty(this,_server,{writable:true,value:void 0});var d=L$g.config().plugins.ifmsg;if(true===c||false===c){c={singleMode:c};}c=L$g.extend({connTimeout:d.connTimeout,sleepTimeout:d.sleepTimeout,singleMode:false},c);_classPrivateFieldLooseBase(this,_server)[_server]=new Server(b,c.singleMode);_classPrivateFieldLooseBase(this,_server)[_server]._conntimeout=c.connTimeout;_classPrivateFieldLooseBase(this,_server)[_server]._sleeptimeout=c.sleepTimeout;}_createClass(a,[{key:"listen",value:function listen(){_classPrivateFieldLooseBase(this,_server)[_server].listen();}},{key:"close",value:function close(){_classPrivateFieldLooseBase(this,_server)[_server].close();}},{key:"onConnect",set:function set(a){_classPrivateFieldLooseBase(this,_server)[_server]._onConnect=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server]._onConnect&&_classPrivateFieldLooseBase(this,_server)[_server]._onConnect.callback}},{key:"onConnectTimeout",set:function set(a){_classPrivateFieldLooseBase(this,_server)[_server]._onConnectTimeout=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server]._onConnectTimeout&&_classPrivateFieldLooseBase(this,_server)[_server]._onConnectTimeout.callback}},{key:"onConnected",set:function set(a){_classPrivateFieldLooseBase(this,_server)[_server]._onConnected=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server]._onConnected&&_classPrivateFieldLooseBase(this,_server)[_server]._onConnected.callback}},{key:"isStart",get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server]._start}},{key:"isDestroyed",get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server]._destroyed}},{key:"cmd",get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server].cmd}},{key:"isSingle",get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server].isSingle}},{key:"client",get:function get(){return _classPrivateFieldLooseBase(this,_server)[_server].client}}]);return a}(),_client9=_classPrivateFieldLooseKey("client"),IfmsgClient=function(){function a(b,c){_classCallCheck(this,a);Object.defineProperty(this,_client9,{writable:true,value:void 0});var d=L$g.config().plugins.ifmsg;c=L$g.extend({connTimeout:d.connTimeout,sleepTimeout:d.sleepTimeout},c);_classPrivateFieldLooseBase(this,_client9)[_client9]=new Client(b,null,null,null,true);_classPrivateFieldLooseBase(this,_client9)[_client9]._conntimeout=c.connTimeout;_classPrivateFieldLooseBase(this,_client9)[_client9]._sleeptimeout=c.sleepTimeout;this.onConnectFail=function(a){console.warn(a);};}_createClass(a,[{key:"connIframe",value:function connIframe(a,b){var c=this;if("string"==typeof a){a=document.getElementById(a);var d=function(){a.removeEventListener("load",d);var e=a.contentWindow;_classPrivateFieldLooseBase(c,_client9)[_client9].source.set(e);_classPrivateFieldLooseBase(c,_client9)[_client9].connect(b);};a.addEventListener("load",d);}else {var e=a.contentWindow;_classPrivateFieldLooseBase(this,_client9)[_client9].source.set(e);_classPrivateFieldLooseBase(this,_client9)[_client9].connect(b);}}},{key:"connParent",value:function connParent(a){_classPrivateFieldLooseBase(this,_client9)[_client9].source.set(window.parent);_classPrivateFieldLooseBase(this,_client9)[_client9].connect(a);}},{key:"connTop",value:function connTop(a){_classPrivateFieldLooseBase(this,_client9)[_client9].source.set(window.top);_classPrivateFieldLooseBase(this,_client9)[_client9].connect(a);}},{key:"connOpener",value:function connOpener(a){_classPrivateFieldLooseBase(this,_client9)[_client9].source.set(window.opener);_classPrivateFieldLooseBase(this,_client9)[_client9].connect(a);}},{key:"sendMessage",value:function sendMessage(a){_classPrivateFieldLooseBase(this,_client9)[_client9].sendMessage(a);}},{key:"close",value:function close(){_classPrivateFieldLooseBase(this,_client9)[_client9].close();}},{key:"onConnect",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnect=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9]._onConnect&&_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnect.callback}},{key:"onConnected",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnected=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9]._onConnected&&_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnected.callback}},{key:"onHeartTimeout",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9].onHeartTimeout=a;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9].onHeartTimeout}},{key:"onClosed",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9].onClosed=a;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9].onClosed}},{key:"onMessage",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9].onMessage=a;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9].onMessage}},{key:"onConnectFail",set:function set(a){_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnectFail=a?new Callback(this,a):null;},get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9]._onConnectFail&&_classPrivateFieldLooseBase(this,_client9)[_client9]._onConnectFail.callback}},{key:"connected",get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9].connected}},{key:"destroyed",get:function get(){return _classPrivateFieldLooseBase(this,_client9)[_client9].destroyed}}]);return a}();L$g.define("ifmsg",{Server:IfmsgServer,Client:IfmsgClient,debug:new Debug});

  var L$h=U.global.xsloader;L$h.define(script.INNER_DEPS_PLUGIN,{pluginMain:function pluginMain(a,b,c){var d=script.innerDepsMap[a],e=d.deps,f=this.invoker().withAbsUrl(d.absUrl);f.src=function(){return d.src};f.require(e,function(){for(var a=[],c=0;c<arguments.length;c++){a.push(arguments[c]);}b(a);}).then({orderDep:d.orderDep,error:function error(a,b){c(new U.PluginError(a,b));}}).setTag("".concat(script.INNER_DEPS_PLUGIN,"![").concat(e.join(","),"]"));},getCacheKey:function getCacheKey(a){return a}});

  var L$i=U.global.xsloader;L$i.define("ready",{pluginMain:function pluginMain(a,b){L$i.onReady(function(){b();});}});

  var L$j=U.global.xsloader,_state=_classPrivateFieldLooseKey("state"),_mod=_classPrivateFieldLooseKey("mod"),_err=_classPrivateFieldLooseKey("err"),_successArray=_classPrivateFieldLooseKey("successArray"),_failedArray=_classPrivateFieldLooseKey("failedArray"),_finishArray=_classPrivateFieldLooseKey("finishArray"),_invokeFuns=_classPrivateFieldLooseKey("invokeFuns"),TryModule=function(){function a(b){var c=this;_classCallCheck(this,a);Object.defineProperty(this,_invokeFuns,{value:_invokeFuns2});Object.defineProperty(this,_state,{writable:true,value:"loading"});Object.defineProperty(this,_mod,{writable:true,value:void 0});Object.defineProperty(this,_err,{writable:true,value:void 0});Object.defineProperty(this,_successArray,{writable:true,value:[]});Object.defineProperty(this,_failedArray,{writable:true,value:[]});Object.defineProperty(this,_finishArray,{writable:true,value:[]});b.then(function(a){_classPrivateFieldLooseBase(c,_state)[_state]="defined";_classPrivateFieldLooseBase(c,_mod)[_mod]=a;_classPrivateFieldLooseBase(c,_invokeFuns)[_invokeFuns](_classPrivateFieldLooseBase(c,_successArray)[_successArray],[a]);_classPrivateFieldLooseBase(c,_invokeFuns)[_invokeFuns](_classPrivateFieldLooseBase(c,_finishArray)[_finishArray],[true,a]);},function(a){_classPrivateFieldLooseBase(c,_state)[_state]="failed";_classPrivateFieldLooseBase(c,_mod)[_mod]=a;_classPrivateFieldLooseBase(c,_invokeFuns)[_invokeFuns](_classPrivateFieldLooseBase(c,_failedArray)[_failedArray],[a]);_classPrivateFieldLooseBase(c,_invokeFuns)[_invokeFuns](_classPrivateFieldLooseBase(c,_finishArray)[_finishArray],[false,a]);});}_createClass(a,[{key:"state",get:function get(){return _classPrivateFieldLooseBase(this,_state)[_state]}},{key:"module",get:function get(){return _classPrivateFieldLooseBase(this,_mod)[_mod]}},{key:"err",get:function get(){return _classPrivateFieldLooseBase(this,_err)[_err]}},{key:"isOk",get:function get(){return "defined"==_classPrivateFieldLooseBase(this,_state)[_state]}},{key:"success",set:function set(a){if("defined"==_classPrivateFieldLooseBase(this,_state)[_state]){a(_classPrivateFieldLooseBase(this,_mod)[_mod]);}else if("loading"==_classPrivateFieldLooseBase(this,_state)[_state]){_classPrivateFieldLooseBase(this,_successArray)[_successArray].push(a);}}},{key:"failed",set:function set(a){if("failed"==_classPrivateFieldLooseBase(this,_state)[_state]){a(_classPrivateFieldLooseBase(this,_err)[_err]);}else if("loading"==_classPrivateFieldLooseBase(this,_state)[_state]){_classPrivateFieldLooseBase(this,_failedArray)[_failedArray].push(a);}}},{key:"finish",set:function set(a){if("failed"==_classPrivateFieldLooseBase(this,_state)[_state]||"defined"==_classPrivateFieldLooseBase(this,_state)[_state]){var b="defined"==_classPrivateFieldLooseBase(this,_state)[_state],c=b?_classPrivateFieldLooseBase(this,_mod)[_mod]:_classPrivateFieldLooseBase(this,_err)[_err];a(b,c);}else if("loading"==_classPrivateFieldLooseBase(this,_state)[_state]){_classPrivateFieldLooseBase(this,_finishArray)[_finishArray].push(a);}}}]);return a}(),_invokeFuns2=function(a,b){for(var c=0;c<a.length;c++){try{a[c].apply(this,b);}catch(a){console.error(a);}}};L$j.TryModule=TryModule;L$j.define("try",{isSingle:true,pluginMain:function pluginMain(a,b){var c=this,d=a,e=new TryModule(new Promise(function(b,e){c.invoker().withAbsUrl().require([d],function(a){b(a);}).error(function(a){console.warn("try!:require '".concat(d,"' failed"));e(a);}).setTag("try!".concat(a));}));b(e);}});

  var L$k=U.global.xsloader;L$k.define("nodeps",{isSingle:true,pluginMain:function pluginMain(a,b,c){this.invoker().withAbsUrl().require([a],function(a){b(a);}).then({depBefore:function depBefore(a,b,c){c.splice(0,c.length);}}).error(function(a){c(a);}).setTag("nodeps!".concat(a));}});

  var L$l=U.global.xsloader;L$l.define("exists",{isSingle:true,pluginMain:function pluginMain(a,b,c){for(var d=a.split("|"),e=0;e<d.length;e++){d[e]=d[e].trim();}if(0==d.length){c("args error for exists!");}else {for(var f=d[0].replace(/\s/g," ").split(" or "),g,h,j=0;j<f.length;j++){g=f[j].trim();h=moduleScript.getModule(g);if(h){break}}if(h){this.invoker().withAbsUrl().require([g],function(a){b(a);}).error(function(a){c(a);}).setTag("exists!".concat(a));}else {for(var k=void 0,l=1;l<d.length;l++){if(window[d[l]]){k=window[d[l]];break}}if(k===void 0){c("not found:"+a);}else {b(k);}}}}});

  var L$m=U.global.xsloader;L$m.define("name",{isSingle:true,pluginMain:function pluginMain(a,b,c){var d=a.indexOf("=>>");if(-1==d){c("expected:=>>");return}var e=a.substring(0,d);e=e.replace(/，/g,",");var f=e.split(","),g=a.substring(d+3);this.invoker().withAbsUrl().require([g],function(a,d){for(var e=[],g=0;g<f.length;g++){var h=f[g],j=moduleScript.getModule(h);if(j&&"init"!=j.state&&!j.preDependModule){var k="\tselfname="+h+",state="+j.state+",src="+j.src;if(j.id===d[0].module.id){console.info("already define name by self:"+k);}else {e.push(k);}continue}var l=d[0].module;if(j&&!j.preDependModule){j.toOtherModule(l);}else {moduleScript.setModule(h,l);}}if(e.length){c("already exists:"+e.join("\n"));}else {b(a);}}).error(function(a){c(a);}).setTag("name!".concat(a));}});

  var L$n=U.global.xsloader;L$n.define("css",function(){var d,e=function(){function a(b){_classCallCheck(this,a);this.parent=void 0;this.children={};this._maxindex=-1;this._minindex=void 0;this.doms={};this.src=void 0;this.src=b;}_createClass(a,[{key:"addChild",value:function addChild(a,b){this.children[a]=b;b.parent=this;}},{key:"getChild",value:function getChild(a){return this.children[a]}},{key:"findAnchor",value:function findAnchor(a,b){if(b){this.doms[a]=b;}var c;if(-1==this._maxindex){this._maxindex=a;this._minindex=a;var e=this.parent;while(e){if(-1==e._maxindex){e=e.parent;}else {c=e.doms[e._minindex];break}}}else {if(a>this._maxindex){c=this.doms[this._maxindex].nextSibling;this._maxindex=a;}else {if(this._minindex>a){this._minindex=a;}for(var f=a+1;f<this._maxindex;f++){if(this.doms[f]){c=this.doms[f];break}}}}if(!c){c=d?d.nextSibling:L$n.script().nextSibling;}return c}}]);return a}(),f=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,g=false,h=true;if(f[1]||f[7])g=6>parseInt(f[1])||9>=parseInt(f[7]);else if(f[2]||f[8]||"WebkitAppearance"in document.documentElement.style)h=false;else if(f[4])g=18>parseInt(f[4]);var i={},j=0,k={};function a(a){var b=0;while(a=a.previousSibling){b++;}return b}function b(a){var c=a.src(),d=a.invoker();while(d&&d.src()==c){d=d.invoker();}if(d){var f=b(d),g=f.getChild(c);if(!g){g=new e(c);f.addChild(c,g);}return g}else {if(!k[c]){k[c]=new e(c);}return k[c]}}function c(c,e,f){if(e&&f){var g=e.invoker(),h=b(g);c.setAttribute("data-insert-index",j++);var i=e.getIndex(),k=h.findAnchor(i,c);script.head().insertBefore(c,k);if(!d||a(c)>a(d)){d=c;}}else {L$n.appendHeadDom(c);}}var l,m,n=function(a,b){l=document.createElement("style");c(l,a,b);m=l.styleSheet||l.sheet;},o=0,p=[],q,r=function(a,b,c){m.addImport(a);l.onload=function(){s(b,c);};o++;if(31==o){n(b,c);o=0;}},s=function(a,b){q();var c=p.shift();if(!c){q=null;return}q=c[1];r(c[0],a,b);},t=function(a,b,c,d){b=b||function(){};if(!m||!m.addImport)n(c,d);if(m&&m.addImport){if(q){p.push([a,b]);}else {r(a,c,d);q=b;}}else {l.textContent="@import \""+a+"\";";var e=setInterval(function(){try{l.sheet.cssRules;clearInterval(e);b();}catch(a){console.warn(a);}},10);}},u=function(a,b,d,e){b=b||function(){};var f=document.createElement("link");f.type="text/css";f.rel="stylesheet";if(h)f.onload=function(){f.onload=function(){};setTimeout(b,7);};else {var g=setInterval(function(){for(var a=0,c;a<document.styleSheets.length;a++){c=document.styleSheets[a];if(c.href==f.href){clearInterval(g);return b()}}},10);}f.href=a;c(f,d,e);};i.pluginMain=function(a,b,c,d){var e=!(d.plugins.css&&false===d.plugins.css.inverse);(g?t:u)(this.invoker().getUrl(a,true),b,this,e);};i.getCacheKey=function(a){var b=this.invoker();return b?b.getUrl(a,true):a};i.loadCss=function(a,b){(g?t:u)(L$n.getUrl(a),b);};i.loadCsses=function(){for(var a=arguments,b=0;b<a.length;b++){(g?t:u)(L$n.getUrl(a[b]),null);}};return i});

  var L$o=U.global.xsloader;L$o.define("text",["xshttp"],{isSingle:true,pluginMain:function pluginMain(a,b,c,d,e){var f=this.invoker().getUrl(a,true);e().url(f).handleAs("text").ok(function(a){b(a);}).fail(function(a){c(a);}).done();},dealPluginArgs:function dealPluginArgs(a){return a}});

  var L$p=U.global.xsloader;L$p.define("window",{isSingle:true,pluginMain:function pluginMain(a,b,c){var d=a.indexOf("=>>");if(-1==d){c("expected:=>>");return}var e=a.substring(0,d),f=a.substring(d+3);this.invoker().withAbsUrl().require([f],function(a){window[e]=a;b(a);}).setTag("window!".concat(a));}});

  var L$q=U.global.xsloader;L$q.define("withdeps",{pluginMain:function pluginMain(a,b,c){var d=a.indexOf("=>>");if(-1==d){c("expected:=>>");return}var e=a.substring(0,d),f=a.substring(d+3),g;try{g=L$q.xsParseJson(f);if(!L$q.isArray(g)){c("deps is not Array:"+f);return}}catch(a){c("deps error:"+f);return}this.invoker().withAbsUrl().require([[false].concat(g),e],function(a,c){b(c);}).then({orderDep:true}).setTag("withdeps!".concat(a));}});

  var L$r=U.global.xsloader;L$r.define("json",["xshttp"],{isSingle:true,pluginMain:function pluginMain(a,b,c,d,e){var f=this.invoker().getUrl(a,true);e().url(f).handleAs("json").ok(function(a){b(a);}).fail(function(a){c(a);}).done();},dealPluginArgs:function dealPluginArgs(a){return a}});

  var L$s=U.global.xsloader;L$s.define("image",{pluginMain:function pluginMain(a,b,c,d){var e=this.invoker().getUrl(a,false),f=new Image,g=function(a){var c=f;f=null;c.onload=null;c.οnerrοr=null;b(a?c:null);};f.onload=function(){g(true);};f.οnerrοr=function(){g(false);};f.src=e;L$s.asyncCall(function(){if(f){setTimeout(function(){if(f){g(false);}},d.plugins.image.timeout);}});},dealPluginArgs:function dealPluginArgs(a){return a}});

  var L$t=U.global.xsloader;L$t.define("default",{isSingle:true,pluginMain:function pluginMain(a,b,c){this.invoker().withAbsUrl().require([a],function(a){if(L$t.isObject(a)){a=a["default"];if(a===void 0){a=null;}}else {a=null;}b(a);}).error(function(a){c(a);}).setTag("default!".concat(a));}});

  var G$8=U.global,L$u=G$8.xsloader,http=G$8._xshttp_request_,DATA_CONF="data-conf",DATA_CONFX="data-xsloader-conf",DATA_CONF2="data-conf2",DATA_CONF2X="data-xsloader-conf2",DATA_MAIN="data-main",DATA_MAINX="data-xsloader-main",DATA_CONF_TYPE="data-conf-type",serviceConfigUrl,dataConf=L$u.script().getAttribute(DATA_CONF)||L$u.script().getAttribute(DATA_CONFX),dataMain=L$u.script().getAttribute(DATA_MAIN)||L$u.script().getAttribute(DATA_MAINX),dataConfType=L$u.script().getAttribute(DATA_CONF_TYPE);if("json"!==dataConfType&&"js"!=dataConfType){dataConfType="auto";}var initFun=function(){function a(a){var b=a.main.getPath.call(a,dataMain),c=location.pathname,d=c.lastIndexOf("/"),e=c.substring(d+1);if(""===e){e="index";}if(L$u.endsWith(e,".html")){e=e.substring(0,e.length-5);}if(!b){b="./main/{name}.js";}b=b.replace("{name}",e);return b}function b(a){a=L$u.extendDeep({properties:{},main:{getPath:function getPath(){return dataMain||"./main/{name}.js"},name:"main",localConfigVar:"lconfig",globalConfigVar:"gconfig",before:function before(a){console.log("before:"+a);},after:function after(a){console.log("after:"+a);}},service:{hasGlobal:false,resUrls:[]},chooseLoader:function chooseLoader(){return "default"},loader:{default:{}}},a);return a}function c(d,f,g,h){http({url:f,method:"get",timeout:2e4,handleType:"text",ok:function ok(d){var i;if("js"==dataConfType){i=L$u.xsEval(d);}else if("json"==dataConfType){i=L$u.xsParseJson(d);}else {if(L$u.startsWith(f,location.protocol+"//"+location.host+"/")){i=L$u.xsEval(d);}else {i=L$u.xsParseJson(d);}}i=b(i);if(i.beforeDealProperties){i.beforeDealProperties();}i=L$u.dealProperties(i,i.properties);if(h&&i.service.hasGlobal){c("global servie",i.service.confUrl,function(b){var c=h;G$8[b.main&&b.main.localConfigVar||c.main.localConfigVar]=c;G$8[b.main&&b.main.globalConfigVar||c.main.globalConfigVar]=b;var d,f,g;g=b.chooseLoader.call(b,c);var h,i;if(null!=g){d=b.main.name;f=U.getPathWithRelative(location.href,a(b));i=b.loader[g];h=b;if(i){b.current=g;}}if(!i){g=c.chooseLoader.call(c,null);d=c.main.name;f=U.getPathWithRelative(location.href,a(c));i=c.loader[g];h=c;if(i){c.current=g;}}if(!i){console.error("unknown loader:"+g+"");return}e(d,f,i,h,c);});}else {g(i);}},fail:function fail(a){console.error("load "+d+" config err:url="+f+",errinfo="+a);}}).done();}function d(){c("local",serviceConfigUrl,function(b){G$8[b.main.localConfigVar]=b;var c=b.main.name,d=location.href,f=d.lastIndexOf("?");if(0<=f){d=d.substring(0,f);}var g=a(b);g=-1==g.indexOf("!")?U.getPathWithRelative(d,g):g;var h=b.chooseLoader.call(b,null),i=b.loader[h];if(!i){console.error("unknown local loader:"+h);return}b.current=h;e(d,c,g,i,b,b);},true);}function e(a,b,c,d,e,f){var g=[];e.service.resUrl&&g.push(e.service.resUrl);f!==e&&f.service.resUrl&&g.push(f.service.resUrl);e.service.resUrls&&Array.pushAll(g,e.service.resUrls);f!==e&&f.service.resUrls&&Array.pushAll(g,f.service.resUrls);L$u.resUrlBuilder=function(a){var b=[];U.each(g,function(c){b.push(L$u.appendArgs2Url(c,"m="+encodeURIComponent(a)));});return b};d.ignoreProperties=true;d.defineFunction=d.defineFunction||{};d.depsPaths=d.depsPaths||{};if(L$u.endsWith(location.pathname,".htmv")){if(G$8.__htmv_init_bridge_){G$8.__htmv_init_bridge_();}b="htmv-main";d.depsPaths[b]=location.href;L$u(d);}else if(-1!=c.indexOf("!")){var h=L$u(d);b="_plugin_main_";var i=[];if(h.deps){if(h.deps["*"]){Array.pushAll(i,h.deps["*"]);}if(h.deps[b]){Array.pushAll(i,h.deps[b]);}}i.push(c);L$u.define(b,i,function(){}).then({absUrl:a});}else if(!L$u.hasDefine(b)){d.depsPaths[b]=c;L$u(d);}else {L$u(d);}d.defineFunction[b]=function(a,c,d){if(L$u.isFunction(e.main.before)){e.main.before.call(e,b);}var f=a.apply(c,d);if(L$u.isFunction(e.main.after)){e.main.after.call(e,b);}return f};L$u.require([b],function(){}).error(function(a,b){if(b){console.error("error occured:invoker.url=",b.getUrl());}console.error("invoke main err:");console.error(a);});}L$u.asyncCall(d,true);};if(dataConf){serviceConfigUrl=U.getPathWithRelative(location.href,dataConf);}else if(dataConf=L$u.script().getAttribute(DATA_CONF2)||L$u.script().getAttribute(DATA_CONF2X)){serviceConfigUrl=U.getPathWithRelative(L$u.scriptSrc(),dataConf);}else {initFun=null;}initFun&&initFun();

  U.loaderEnd();

}());
//# sourceMappingURL=xsloader.min.js.map
